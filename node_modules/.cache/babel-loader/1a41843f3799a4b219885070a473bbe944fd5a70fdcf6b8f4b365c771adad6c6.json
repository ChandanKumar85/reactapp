{"ast":null,"code":"var _regeneratorRuntime = require(\"/home/chandan.singh/Documents/react-app/react/node_modules/@babel/runtime/regenerator/index.js\");\n(function (global, factory) {\n  typeof exports === 'object' && typeof module !== 'undefined' ? factory(exports, require('react')) : typeof define === 'function' && define.amd ? define(['exports', 'react'], factory) : (global = typeof globalThis !== 'undefined' ? globalThis : global || self, factory(global.ImageKitReact = {}, global.React));\n})(this, function (exports, React) {\n  'use strict';\n\n  function _interopDefaultLegacy(e) {\n    return e && typeof e === 'object' && 'default' in e ? e : {\n      'default': e\n    };\n  }\n  var React__default = /*#__PURE__*/_interopDefaultLegacy(React);\n  function _typeof(obj) {\n    \"@babel/helpers - typeof\";\n\n    if (typeof Symbol === \"function\" && typeof Symbol.iterator === \"symbol\") {\n      _typeof = function (obj) {\n        return typeof obj;\n      };\n    } else {\n      _typeof = function (obj) {\n        return obj && typeof Symbol === \"function\" && obj.constructor === Symbol && obj !== Symbol.prototype ? \"symbol\" : typeof obj;\n      };\n    }\n    return _typeof(obj);\n  }\n  function _classCallCheck(instance, Constructor) {\n    if (!(instance instanceof Constructor)) {\n      throw new TypeError(\"Cannot call a class as a function\");\n    }\n  }\n  function _defineProperties(target, props) {\n    for (var i = 0; i < props.length; i++) {\n      var descriptor = props[i];\n      descriptor.enumerable = descriptor.enumerable || false;\n      descriptor.configurable = true;\n      if (\"value\" in descriptor) descriptor.writable = true;\n      Object.defineProperty(target, descriptor.key, descriptor);\n    }\n  }\n  function _createClass(Constructor, protoProps, staticProps) {\n    if (protoProps) _defineProperties(Constructor.prototype, protoProps);\n    if (staticProps) _defineProperties(Constructor, staticProps);\n    return Constructor;\n  }\n  function _defineProperty(obj, key, value) {\n    if (key in obj) {\n      Object.defineProperty(obj, key, {\n        value: value,\n        enumerable: true,\n        configurable: true,\n        writable: true\n      });\n    } else {\n      obj[key] = value;\n    }\n    return obj;\n  }\n  function ownKeys(object, enumerableOnly) {\n    var keys = Object.keys(object);\n    if (Object.getOwnPropertySymbols) {\n      var symbols = Object.getOwnPropertySymbols(object);\n      if (enumerableOnly) symbols = symbols.filter(function (sym) {\n        return Object.getOwnPropertyDescriptor(object, sym).enumerable;\n      });\n      keys.push.apply(keys, symbols);\n    }\n    return keys;\n  }\n  function _objectSpread2(target) {\n    for (var i = 1; i < arguments.length; i++) {\n      var source = arguments[i] != null ? arguments[i] : {};\n      if (i % 2) {\n        ownKeys(Object(source), true).forEach(function (key) {\n          _defineProperty(target, key, source[key]);\n        });\n      } else if (Object.getOwnPropertyDescriptors) {\n        Object.defineProperties(target, Object.getOwnPropertyDescriptors(source));\n      } else {\n        ownKeys(Object(source)).forEach(function (key) {\n          Object.defineProperty(target, key, Object.getOwnPropertyDescriptor(source, key));\n        });\n      }\n    }\n    return target;\n  }\n  var version = \"2.0.0\";\n  var errorMessages = {\n    MANDATORY_INITIALIZATION_MISSING: {\n      message: \"Missing urlEndpoint during SDK initialization\",\n      help: \"\"\n    },\n    INVALID_TRANSFORMATION_POSITION: {\n      message: \"Invalid transformationPosition parameter\",\n      help: \"\"\n    },\n    PRIVATE_KEY_CLIENT_SIDE: {\n      message: \"privateKey should not be passed on the client side\",\n      help: \"\"\n    },\n    MISSING_UPLOAD_DATA: {\n      message: \"Missing data for upload\",\n      help: \"\"\n    },\n    MISSING_UPLOAD_FILE_PARAMETER: {\n      message: \"Missing file parameter for upload\",\n      help: \"\"\n    },\n    MISSING_UPLOAD_FILENAME_PARAMETER: {\n      message: \"Missing fileName parameter for upload\",\n      help: \"\"\n    },\n    MISSING_AUTHENTICATION_ENDPOINT: {\n      message: \"Missing authentication endpoint for upload\",\n      help: \"\"\n    },\n    MISSING_PUBLIC_KEY: {\n      message: \"Missing public key for upload\",\n      help: \"\"\n    },\n    AUTH_ENDPOINT_TIMEOUT: {\n      message: \"The authenticationEndpoint you provided timed out in 60 seconds\",\n      help: \"\"\n    },\n    AUTH_ENDPOINT_NETWORK_ERROR: {\n      message: \"Request to authenticationEndpoint failed due to network error\",\n      help: \"\"\n    },\n    AUTH_INVALID_RESPONSE: {\n      message: \"Invalid response from authenticationEndpoint. The SDK expects a JSON response with three fields i.e. signature, token and expire.\",\n      help: \"\"\n    },\n    UPLOAD_ENDPOINT_NETWORK_ERROR: {\n      message: \"Request to ImageKit upload endpoint failed due to network error\",\n      help: \"\"\n    },\n    INVALID_UPLOAD_OPTIONS: {\n      message: \"Invalid uploadOptions parameter\",\n      help: \"\"\n    },\n    MISSING_SIGNATURE: {\n      message: \"Missing signature for upload. The SDK expects token, sginature and expire for authentication.\",\n      help: \"\"\n    },\n    MISSING_TOKEN: {\n      message: \"Missing token for upload. The SDK expects token, sginature and expire for authentication.\",\n      help: \"\"\n    },\n    MISSING_EXPIRE: {\n      message: \"Missing expire for upload. The SDK expects token, sginature and expire for authentication.\",\n      help: \"\"\n    }\n  };\n  function respond(isError, response, callback) {\n    if (typeof callback == \"function\") {\n      if (isError) {\n        callback(response, null);\n      } else {\n        callback(null, response);\n      }\n    }\n  }\n  function getResponseHeaderMap(xhr) {\n    var headers = {};\n    var responseHeaders = xhr.getAllResponseHeaders();\n    if (Object.keys(responseHeaders).length) {\n      responseHeaders.trim().split(/[\\r\\n]+/).map(function (value) {\n        return value.split(/: /);\n      }).forEach(function (keyValue) {\n        headers[keyValue[0].trim()] = keyValue[1].trim();\n      });\n    }\n    return headers;\n  }\n  var addResponseHeadersAndBody = function addResponseHeadersAndBody(body, xhr) {\n    var response = _objectSpread2({}, body);\n    var responseMetadata = {\n      statusCode: xhr.status,\n      headers: getResponseHeaderMap(xhr)\n    };\n    Object.defineProperty(response, \"$ResponseMetadata\", {\n      value: responseMetadata,\n      enumerable: false,\n      writable: false\n    });\n    return response;\n  };\n  var request = function request(uploadFileXHR, formData, callback) {\n    uploadFile(uploadFileXHR, formData).then(function (result) {\n      return respond(false, result, callback);\n    }, function (ex) {\n      return respond(true, ex, callback);\n    });\n  };\n  var uploadFile = function uploadFile(uploadFileXHR, formData) {\n    return new Promise(function (resolve, reject) {\n      uploadFileXHR.open('POST', 'https://upload.imagekit.io/api/v1/files/upload');\n      uploadFileXHR.onerror = function (e) {\n        return reject(errorMessages.UPLOAD_ENDPOINT_NETWORK_ERROR);\n      };\n      uploadFileXHR.onload = function () {\n        if (uploadFileXHR.status === 200) {\n          try {\n            var body = JSON.parse(uploadFileXHR.responseText);\n            var uploadResponse = addResponseHeadersAndBody(body, uploadFileXHR);\n            return resolve(uploadResponse);\n          } catch (ex) {\n            return reject(ex);\n          }\n        } else {\n          try {\n            var body = JSON.parse(uploadFileXHR.responseText);\n            var uploadError = addResponseHeadersAndBody(body, uploadFileXHR);\n            return reject(uploadError);\n          } catch (ex) {\n            return reject(ex);\n          }\n        }\n      };\n      uploadFileXHR.send(formData);\n    });\n  };\n  var upload = function upload(xhr, uploadOptions, options, callback) {\n    if (!uploadOptions.file) {\n      respond(true, errorMessages.MISSING_UPLOAD_FILE_PARAMETER, callback);\n      return;\n    }\n    if (!uploadOptions.fileName) {\n      respond(true, errorMessages.MISSING_UPLOAD_FILENAME_PARAMETER, callback);\n      return;\n    }\n    if (!options.publicKey) {\n      respond(true, errorMessages.MISSING_PUBLIC_KEY, callback);\n      return;\n    }\n    if (!uploadOptions.token) {\n      respond(true, errorMessages.MISSING_TOKEN, callback);\n      return;\n    }\n    if (!uploadOptions.signature) {\n      respond(true, errorMessages.MISSING_SIGNATURE, callback);\n      return;\n    }\n    if (!uploadOptions.expire) {\n      respond(true, errorMessages.MISSING_EXPIRE, callback);\n      return;\n    }\n    var formData = new FormData();\n    var key;\n    for (key in uploadOptions) {\n      if (key) {\n        if (key === \"file\" && typeof uploadOptions.file != \"string\") {\n          formData.append('file', uploadOptions.file, String(uploadOptions.fileName));\n        } else if (key === \"tags\" && Array.isArray(uploadOptions.tags)) {\n          formData.append('tags', uploadOptions.tags.join(\",\"));\n        } else if (key === 'signature') {\n          formData.append(\"signature\", uploadOptions.signature);\n        } else if (key === 'expire') {\n          formData.append(\"expire\", String(uploadOptions.expire));\n        } else if (key === 'token') {\n          formData.append(\"token\", uploadOptions.token);\n        } else if (key === \"responseFields\" && Array.isArray(uploadOptions.responseFields)) {\n          formData.append('responseFields', uploadOptions.responseFields.join(\",\"));\n        } else if (key === \"extensions\" && Array.isArray(uploadOptions.extensions)) {\n          formData.append('extensions', JSON.stringify(uploadOptions.extensions));\n        } else if (key === \"customMetadata\" && _typeof(uploadOptions.customMetadata) === \"object\" && !Array.isArray(uploadOptions.customMetadata) && uploadOptions.customMetadata !== null) {\n          formData.append('customMetadata', JSON.stringify(uploadOptions.customMetadata));\n        } else if (uploadOptions[key] !== undefined) {\n          formData.append(key, String(uploadOptions[key]));\n        }\n      }\n    }\n    formData.append(\"publicKey\", options.publicKey);\n    request(xhr, formData, callback);\n  };\n  var supportedTransforms = {\n    width: \"w\",\n    height: \"h\",\n    aspectRatio: \"ar\",\n    quality: \"q\",\n    crop: \"c\",\n    cropMode: \"cm\",\n    focus: \"fo\",\n    x: \"x\",\n    y: \"y\",\n    format: \"f\",\n    radius: \"r\",\n    background: \"bg\",\n    border: \"b\",\n    rotation: \"rt\",\n    rotate: \"rt\",\n    blur: \"bl\",\n    named: \"n\",\n    overlayImage: \"oi\",\n    overlayImageAspectRatio: \"oiar\",\n    overlayImageBackground: \"oibg\",\n    overlayImageBorder: \"oib\",\n    overlayImageDPR: \"oidpr\",\n    overlayImageQuality: \"oiq\",\n    overlayImageCropping: \"oic\",\n    overlayImageTrim: \"oit\",\n    overlayX: \"ox\",\n    overlayY: \"oy\",\n    overlayFocus: \"ofo\",\n    overlayHeight: \"oh\",\n    overlayWidth: \"ow\",\n    overlayText: \"ot\",\n    overlayTextFontSize: \"ots\",\n    overlayTextFontFamily: \"otf\",\n    overlayTextColor: \"otc\",\n    overlayTextTransparency: \"oa\",\n    overlayAlpha: \"oa\",\n    overlayTextTypography: \"ott\",\n    overlayBackground: \"obg\",\n    overlayTextEncoded: \"ote\",\n    overlayTextWidth: \"otw\",\n    overlayTextBackground: \"otbg\",\n    overlayTextPadding: \"otp\",\n    overlayTextInnerAlignment: \"otia\",\n    overlayRadius: \"or\",\n    progressive: \"pr\",\n    lossless: \"lo\",\n    trim: \"t\",\n    metadata: \"md\",\n    colorProfile: \"cp\",\n    defaultImage: \"di\",\n    dpr: \"dpr\",\n    effectSharpen: \"e-sharpen\",\n    effectUSM: \"e-usm\",\n    effectContrast: \"e-contrast\",\n    effectGray: \"e-grayscale\",\n    original: \"orig\",\n    raw: \"raw\"\n  };\n  var DEFAULT_TRANSFORMATION_POSITION = \"path\";\n  var QUERY_TRANSFORMATION_POSITION = \"query\";\n  var VALID_TRANSFORMATION_POSITIONS = [DEFAULT_TRANSFORMATION_POSITION, QUERY_TRANSFORMATION_POSITION];\n  var CHAIN_TRANSFORM_DELIMITER = \":\";\n  var TRANSFORM_DELIMITER = \",\";\n  var TRANSFORM_KEY_VALUE_DELIMITER = \"-\";\n  var transformationUtils = {\n    getDefault: function getDefault() {\n      return DEFAULT_TRANSFORMATION_POSITION;\n    },\n    addAsQueryParameter: function addAsQueryParameter(options) {\n      return options.transformationPosition === QUERY_TRANSFORMATION_POSITION;\n    },\n    validParameters: function validParameters(options) {\n      if (typeof options.transformationPosition == \"undefined\") return false;\n      return VALID_TRANSFORMATION_POSITIONS.indexOf(options.transformationPosition) != -1;\n    },\n    getTransformKey: function getTransformKey(transform) {\n      if (!transform) {\n        return \"\";\n      }\n      return supportedTransforms[transform] || supportedTransforms[transform.toLowerCase()] || \"\";\n    },\n    getChainTransformDelimiter: function getChainTransformDelimiter() {\n      return CHAIN_TRANSFORM_DELIMITER;\n    },\n    getTransformDelimiter: function getTransformDelimiter() {\n      return TRANSFORM_DELIMITER;\n    },\n    getTransformKeyValueDelimiter: function getTransformKeyValueDelimiter() {\n      return TRANSFORM_KEY_VALUE_DELIMITER;\n    }\n  };\n  var TRANSFORMATION_PARAMETER = \"tr\";\n  function removeTrailingSlash(str) {\n    if (typeof str == \"string\" && str[str.length - 1] == \"/\") {\n      str = str.substring(0, str.length - 1);\n    }\n    return str;\n  }\n  function removeLeadingSlash(str) {\n    if (typeof str == \"string\" && str[0] == \"/\") {\n      str = str.slice(1);\n    }\n    return str;\n  }\n  function pathJoin(parts, sep) {\n    var separator = sep || \"/\";\n    var replace = new RegExp(separator + \"{1,}\", \"g\");\n    return parts.join(separator).replace(replace, separator);\n  }\n  var buildURL = function buildURL(opts) {\n    if (!opts.path && !opts.src) {\n      return \"\";\n    }\n    var urlObj, isSrcParameterUsedForURL, urlEndpointPattern;\n    try {\n      if (opts.path) {\n        urlEndpointPattern = new URL(opts.urlEndpoint).pathname;\n        urlObj = new URL(pathJoin([opts.urlEndpoint.replace(urlEndpointPattern, \"\"), opts.path]));\n      } else {\n        urlObj = new URL(opts.src);\n        isSrcParameterUsedForURL = true;\n      }\n    } catch (e) {\n      console.error(e);\n      return \"\";\n    }\n    for (var i in opts.queryParameters) {\n      urlObj.searchParams.append(i, String(opts.queryParameters[i]));\n    }\n    var transformationString = constructTransformationString(opts.transformation);\n    if (transformationString && transformationString.length) {\n      if (transformationUtils.addAsQueryParameter(opts) || isSrcParameterUsedForURL) {\n        urlObj.searchParams.append(TRANSFORMATION_PARAMETER, transformationString);\n      } else {\n        urlObj.pathname = pathJoin([TRANSFORMATION_PARAMETER + transformationUtils.getChainTransformDelimiter() + transformationString, urlObj.pathname]);\n      }\n    }\n    if (urlEndpointPattern) {\n      urlObj.pathname = pathJoin([urlEndpointPattern, urlObj.pathname]);\n    } else {\n      urlObj.pathname = pathJoin([urlObj.pathname]);\n    }\n    return urlObj.href;\n  };\n  function constructTransformationString(transformation) {\n    if (!Array.isArray(transformation)) {\n      return \"\";\n    }\n    var parsedTransforms = [];\n    for (var i = 0, l = transformation.length; i < l; i++) {\n      var parsedTransformStep = [];\n      for (var key in transformation[i]) {\n        var transformKey = transformationUtils.getTransformKey(key);\n        if (!transformKey) {\n          transformKey = key;\n        }\n        if (transformation[i][key] === \"-\") {\n          parsedTransformStep.push(transformKey);\n        } else if (key === \"raw\") {\n          parsedTransformStep.push(transformation[i][key]);\n        } else {\n          var value = transformation[i][key];\n          if (transformKey === \"oi\" || transformKey === \"di\") {\n            value = removeTrailingSlash(removeLeadingSlash(value || \"\"));\n            value = value.replace(/\\//g, \"@@\");\n          }\n          parsedTransformStep.push([transformKey, value].join(transformationUtils.getTransformKeyValueDelimiter()));\n        }\n      }\n      parsedTransforms.push(parsedTransformStep.join(transformationUtils.getTransformDelimiter()));\n    }\n    return parsedTransforms.join(transformationUtils.getChainTransformDelimiter());\n  }\n  var url = function url(urlOpts, defaultOptions) {\n    return buildURL(_objectSpread2(_objectSpread2({}, defaultOptions), urlOpts));\n  };\n  function mandatoryParametersAvailable(options) {\n    return options.urlEndpoint;\n  }\n  var promisify = function promisify(thisContext, fn) {\n    return function () {\n      for (var _len = arguments.length, args = new Array(_len), _key = 0; _key < _len; _key++) {\n        args[_key] = arguments[_key];\n      }\n      if (args.length === fn.length && typeof args[args.length - 1] !== \"undefined\") {\n        if (typeof args[args.length - 1] !== \"function\") {\n          throw new Error(\"Callback must be a function.\");\n        }\n        fn.call.apply(fn, [thisContext].concat(args));\n      } else {\n        return new Promise(function (resolve, reject) {\n          var callback = function callback(err) {\n            if (err) {\n              return reject(err);\n            } else {\n              for (var _len2 = arguments.length, results = new Array(_len2 > 1 ? _len2 - 1 : 0), _key2 = 1; _key2 < _len2; _key2++) {\n                results[_key2 - 1] = arguments[_key2];\n              }\n              resolve(results.length > 1 ? results : results[0]);\n            }\n          };\n          args.pop();\n          args.push(callback);\n          fn.call.apply(fn, [thisContext].concat(args));\n        });\n      }\n    };\n  };\n  var ImageKit = function () {\n    function ImageKit(opts) {\n      _classCallCheck(this, ImageKit);\n      _defineProperty(this, \"options\", {\n        sdkVersion: \"javascript-\".concat(version),\n        publicKey: \"\",\n        urlEndpoint: \"\",\n        transformationPosition: transformationUtils.getDefault()\n      });\n      this.options = _objectSpread2(_objectSpread2({}, this.options), opts || {});\n      if (!mandatoryParametersAvailable(this.options)) {\n        throw errorMessages.MANDATORY_INITIALIZATION_MISSING;\n      }\n      if (!transformationUtils.validParameters(this.options)) {\n        throw errorMessages.INVALID_TRANSFORMATION_POSITION;\n      }\n    }\n    _createClass(ImageKit, [{\n      key: \"url\",\n      value: function url$1(urlOptions) {\n        return url(urlOptions, this.options);\n      }\n    }, {\n      key: \"upload\",\n      value: function upload$1(uploadOptions, callbackOrOptions, options) {\n        var callback;\n        if (typeof callbackOrOptions === 'function') {\n          callback = callbackOrOptions;\n        } else {\n          options = callbackOrOptions || {};\n        }\n        if (!uploadOptions || _typeof(uploadOptions) !== \"object\") {\n          return respond(true, errorMessages.INVALID_UPLOAD_OPTIONS, callback);\n        }\n        var mergedOptions = _objectSpread2(_objectSpread2({}, this.options), options);\n        var _ref = uploadOptions || {},\n          userProvidedXHR = _ref.xhr;\n        delete uploadOptions.xhr;\n        var xhr = userProvidedXHR || new XMLHttpRequest();\n        return promisify(this, upload)(xhr, uploadOptions, mergedOptions, callback);\n      }\n    }]);\n    return ImageKit;\n  }();\n  function asyncGeneratorStep(gen, resolve, reject, _next, _throw, key, arg) {\n    try {\n      var info = gen[key](arg);\n      var value = info.value;\n    } catch (error) {\n      reject(error);\n      return;\n    }\n    if (info.done) {\n      resolve(value);\n    } else {\n      Promise.resolve(value).then(_next, _throw);\n    }\n  }\n  function _asyncToGenerator(fn) {\n    return function () {\n      var self = this,\n        args = arguments;\n      return new Promise(function (resolve, reject) {\n        var gen = fn.apply(self, args);\n        function _next(value) {\n          asyncGeneratorStep(gen, resolve, reject, _next, _throw, \"next\", value);\n        }\n        function _throw(err) {\n          asyncGeneratorStep(gen, resolve, reject, _next, _throw, \"throw\", err);\n        }\n        _next(undefined);\n      });\n    };\n  }\n  function _defineProperty$1(obj, key, value) {\n    if (key in obj) {\n      Object.defineProperty(obj, key, {\n        value: value,\n        enumerable: true,\n        configurable: true,\n        writable: true\n      });\n    } else {\n      obj[key] = value;\n    }\n    return obj;\n  }\n  function _extends() {\n    _extends = Object.assign || function (target) {\n      for (var i = 1; i < arguments.length; i++) {\n        var source = arguments[i];\n        for (var key in source) {\n          if (Object.prototype.hasOwnProperty.call(source, key)) {\n            target[key] = source[key];\n          }\n        }\n      }\n      return target;\n    };\n    return _extends.apply(this, arguments);\n  }\n  function ownKeys$1(object, enumerableOnly) {\n    var keys = Object.keys(object);\n    if (Object.getOwnPropertySymbols) {\n      var symbols = Object.getOwnPropertySymbols(object);\n      if (enumerableOnly) symbols = symbols.filter(function (sym) {\n        return Object.getOwnPropertyDescriptor(object, sym).enumerable;\n      });\n      keys.push.apply(keys, symbols);\n    }\n    return keys;\n  }\n  function _objectSpread2$1(target) {\n    for (var i = 1; i < arguments.length; i++) {\n      var source = arguments[i] != null ? arguments[i] : {};\n      if (i % 2) {\n        ownKeys$1(Object(source), true).forEach(function (key) {\n          _defineProperty$1(target, key, source[key]);\n        });\n      } else if (Object.getOwnPropertyDescriptors) {\n        Object.defineProperties(target, Object.getOwnPropertyDescriptors(source));\n      } else {\n        ownKeys$1(Object(source)).forEach(function (key) {\n          Object.defineProperty(target, key, Object.getOwnPropertyDescriptor(source, key));\n        });\n      }\n    }\n    return target;\n  }\n  function _objectWithoutPropertiesLoose(source, excluded) {\n    if (source == null) return {};\n    var target = {};\n    var sourceKeys = Object.keys(source);\n    var key, i;\n    for (i = 0; i < sourceKeys.length; i++) {\n      key = sourceKeys[i];\n      if (excluded.indexOf(key) >= 0) continue;\n      target[key] = source[key];\n    }\n    return target;\n  }\n  function _objectWithoutProperties(source, excluded) {\n    if (source == null) return {};\n    var target = _objectWithoutPropertiesLoose(source, excluded);\n    var key, i;\n    if (Object.getOwnPropertySymbols) {\n      var sourceSymbolKeys = Object.getOwnPropertySymbols(source);\n      for (i = 0; i < sourceSymbolKeys.length; i++) {\n        key = sourceSymbolKeys[i];\n        if (excluded.indexOf(key) >= 0) continue;\n        if (!Object.prototype.propertyIsEnumerable.call(source, key)) continue;\n        target[key] = source[key];\n      }\n    }\n    return target;\n  }\n  function _slicedToArray(arr, i) {\n    return _arrayWithHoles(arr) || _iterableToArrayLimit(arr, i) || _unsupportedIterableToArray(arr, i) || _nonIterableRest();\n  }\n  function _toConsumableArray(arr) {\n    return _arrayWithoutHoles(arr) || _iterableToArray(arr) || _unsupportedIterableToArray(arr) || _nonIterableSpread();\n  }\n  function _arrayWithoutHoles(arr) {\n    if (Array.isArray(arr)) return _arrayLikeToArray(arr);\n  }\n  function _arrayWithHoles(arr) {\n    if (Array.isArray(arr)) return arr;\n  }\n  function _iterableToArray(iter) {\n    if (typeof Symbol !== \"undefined\" && Symbol.iterator in Object(iter)) return Array.from(iter);\n  }\n  function _iterableToArrayLimit(arr, i) {\n    if (typeof Symbol === \"undefined\" || !(Symbol.iterator in Object(arr))) return;\n    var _arr = [];\n    var _n = true;\n    var _d = false;\n    var _e = undefined;\n    try {\n      for (var _i = arr[Symbol.iterator](), _s; !(_n = (_s = _i.next()).done); _n = true) {\n        _arr.push(_s.value);\n        if (i && _arr.length === i) break;\n      }\n    } catch (err) {\n      _d = true;\n      _e = err;\n    } finally {\n      try {\n        if (!_n && _i[\"return\"] != null) _i[\"return\"]();\n      } finally {\n        if (_d) throw _e;\n      }\n    }\n    return _arr;\n  }\n  function _unsupportedIterableToArray(o, minLen) {\n    if (!o) return;\n    if (typeof o === \"string\") return _arrayLikeToArray(o, minLen);\n    var n = Object.prototype.toString.call(o).slice(8, -1);\n    if (n === \"Object\" && o.constructor) n = o.constructor.name;\n    if (n === \"Map\" || n === \"Set\") return Array.from(o);\n    if (n === \"Arguments\" || /^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)) return _arrayLikeToArray(o, minLen);\n  }\n  function _arrayLikeToArray(arr, len) {\n    if (len == null || len > arr.length) len = arr.length;\n    for (var i = 0, arr2 = new Array(len); i < len; i++) arr2[i] = arr[i];\n    return arr2;\n  }\n  function _nonIterableSpread() {\n    throw new TypeError(\"Invalid attempt to spread non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.\");\n  }\n  function _nonIterableRest() {\n    throw new TypeError(\"Invalid attempt to destructure non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.\");\n  }\n  function createCommonjsModule(fn, basedir, module) {\n    return module = {\n      path: basedir,\n      exports: {},\n      require: function (path, base) {\n        return commonjsRequire(path, base === undefined || base === null ? module.path : base);\n      }\n    }, fn(module, module.exports), module.exports;\n  }\n  function commonjsRequire() {\n    throw new Error('Dynamic requires are not currently supported by @rollup/plugin-commonjs');\n  }\n\n  /**\n   * Copyright (c) 2013-present, Facebook, Inc.\n   *\n   * This source code is licensed under the MIT license found in the\n   * LICENSE file in the root directory of this source tree.\n   */\n\n  var ReactPropTypesSecret = 'SECRET_DO_NOT_PASS_THIS_OR_YOU_WILL_BE_FIRED';\n  var ReactPropTypesSecret_1 = ReactPropTypesSecret;\n  function emptyFunction() {}\n  function emptyFunctionWithReset() {}\n  emptyFunctionWithReset.resetWarningCache = emptyFunction;\n  var factoryWithThrowingShims = function () {\n    function shim(props, propName, componentName, location, propFullName, secret) {\n      if (secret === ReactPropTypesSecret_1) {\n        // It is still safe when called from React.\n        return;\n      }\n      var err = new Error('Calling PropTypes validators directly is not supported by the `prop-types` package. ' + 'Use PropTypes.checkPropTypes() to call them. ' + 'Read more at http://fb.me/use-check-prop-types');\n      err.name = 'Invariant Violation';\n      throw err;\n    }\n    shim.isRequired = shim;\n    function getShim() {\n      return shim;\n    }\n    // Keep this list in sync with production version in `./factoryWithTypeCheckers.js`.\n\n    var ReactPropTypes = {\n      array: shim,\n      bool: shim,\n      func: shim,\n      number: shim,\n      object: shim,\n      string: shim,\n      symbol: shim,\n      any: shim,\n      arrayOf: getShim,\n      element: shim,\n      elementType: shim,\n      instanceOf: getShim,\n      node: shim,\n      objectOf: getShim,\n      oneOf: getShim,\n      oneOfType: getShim,\n      shape: getShim,\n      exact: getShim,\n      checkPropTypes: emptyFunctionWithReset,\n      resetWarningCache: emptyFunction\n    };\n    ReactPropTypes.PropTypes = ReactPropTypes;\n    return ReactPropTypes;\n  };\n  var propTypes = createCommonjsModule(function (module) {\n    /**\n     * Copyright (c) 2013-present, Facebook, Inc.\n     *\n     * This source code is licensed under the MIT license found in the\n     * LICENSE file in the root directory of this source tree.\n     */\n    {\n      // By explicitly using `prop-types` you are opting into new production behavior.\n      // http://fb.me/prop-types-in-prod\n      module.exports = factoryWithThrowingShims();\n    }\n  });\n  var Props = {\n    loading: propTypes.oneOf(['lazy']),\n    lqip: propTypes.shape({\n      active: propTypes.bool,\n      quality: propTypes.number,\n      threshold: propTypes.number,\n      blur: propTypes.number,\n      raw: propTypes.string\n    }),\n    path: propTypes.string,\n    src: propTypes.string,\n    queryParameters: propTypes.objectOf(propTypes.oneOfType([propTypes.string, propTypes.number]).isRequired),\n    transformation: propTypes.arrayOf(propTypes.object.isRequired),\n    transformationPosition: propTypes.oneOf(['path', 'query'])\n  };\n  var Props$1 = {\n    fileName: propTypes.string,\n    tags: propTypes.arrayOf(propTypes.string.isRequired),\n    useUniqueFileName: propTypes.bool,\n    responseFields: propTypes.array,\n    isPrivateFile: propTypes.bool,\n    folder: propTypes.string,\n    customCoordinates: propTypes.string,\n    extensions: propTypes.arrayOf(propTypes.object.isRequired),\n    webhookUrl: propTypes.string,\n    overwriteFile: propTypes.bool,\n    overwriteAITags: propTypes.bool,\n    overwriteTags: propTypes.bool,\n    overwriteCustomMetadata: propTypes.bool,\n    customMetadata: propTypes.any,\n    onError: propTypes.func,\n    onSuccess: propTypes.func,\n    onUploadStart: propTypes.func,\n    onUploadProgress: propTypes.func,\n    validateFile: propTypes.func,\n    ref: propTypes.any\n  };\n  var Props$2 = {\n    publicKey: propTypes.string,\n    urlEndpoint: propTypes.string,\n    authenticator: propTypes.func\n  };\n  var IKContextCombinedProps = _objectSpread2$1(_objectSpread2$1(_objectSpread2$1(_objectSpread2$1(_objectSpread2$1({}, Props$2), Props), Props$1), Props$1), {}, {\n    ikClient: propTypes.instanceOf(ImageKit)\n  });\n  var ImageKitContext = /*#__PURE__*/React.createContext({});\n  /**\n   * Provides a container for ImageKit components. Any option set in IKContext will be passed to the children.\n   *\n   * @example\n   *<IKContext  publicKey=\"<public key>\" urlEndpoint=\"url link\">\n   *    <!-- other tags -->\n   *    <Image src={link}/>\n   *</IKContext>\n   */\n\n  var IKContext = function IKContext(props) {\n    var extractContextOptions = function extractContextOptions(mergedOptions) {\n      var result = {};\n      var propKeys = Object.keys(IKContextCombinedProps);\n      for (var i = 0; i < propKeys.length; i++) {\n        var key = propKeys[i];\n        var value = mergedOptions[key];\n        if (value) {\n          result[key] = value;\n        }\n      }\n      return result;\n    };\n    var mergedOptions = _objectSpread2$1({}, props);\n    var contextOptionsExtracted = extractContextOptions(mergedOptions);\n    if (contextOptionsExtracted.urlEndpoint && contextOptionsExtracted.urlEndpoint.trim() !== \"\") {\n      contextOptionsExtracted.ikClient = new ImageKit({\n        urlEndpoint: contextOptionsExtracted.urlEndpoint,\n        // @ts-ignore\n        sdkVersion: \"\"\n      });\n    }\n    return /*#__PURE__*/React__default['default'].createElement(ImageKitContext.Provider, {\n      value: contextOptionsExtracted\n    }, props.children);\n  };\n  var COMBINED_IMAGE_PROP_TYPES = _objectSpread2$1(_objectSpread2$1({}, Props$2), Props);\n  var fetchEffectiveConnection = function fetchEffectiveConnection() {\n    try {\n      return navigator.connection.effectiveType;\n    } catch (ex) {\n      return \"4g\";\n    }\n  };\n  var getSrc = function getSrc(_ref, ikClient, contextOptions) {\n    var urlEndpoint = _ref.urlEndpoint,\n      lqip = _ref.lqip,\n      src = _ref.src,\n      path = _ref.path,\n      transformation = _ref.transformation,\n      transformationPosition = _ref.transformationPosition,\n      queryParameters = _ref.queryParameters;\n    // @ts-ignore\n    var options = {\n      urlEndpoint: urlEndpoint || contextOptions.urlEndpoint,\n      src: src || contextOptions.src || undefined,\n      path: path || contextOptions.path || undefined,\n      transformation: transformation || contextOptions.transformation,\n      transformationPosition: transformationPosition || contextOptions.transformationPosition || undefined,\n      queryParameters: queryParameters || contextOptions.queryParameters || {}\n    };\n    var result = {\n      originalSrc: ikClient.url(options)\n    };\n    if (lqip && lqip.active) {\n      var quality = Math.round(lqip.quality || lqip.threshold || 20);\n      var blur = Math.round(lqip.blur || 6);\n      var newTransformation = options.transformation ? _toConsumableArray(options.transformation) : [];\n      if (lqip.raw && typeof lqip.raw === \"string\" && lqip.raw.trim() !== \"\") {\n        newTransformation.push({\n          raw: lqip.raw.trim()\n        });\n      } else {\n        newTransformation.push({\n          quality: String(quality),\n          blur: String(blur)\n        });\n      }\n      result.lqipSrc = ikClient.url(_objectSpread2$1(_objectSpread2$1({}, options), {}, {\n        transformation: newTransformation\n      }));\n    }\n    return result;\n  };\n  var getIKElementsUrl = function getIKElementsUrl(_ref2, _ref3) {\n    var _ref2$lqip = _ref2.lqip,\n      lqip = _ref2$lqip === void 0 ? null : _ref2$lqip,\n      loading = _ref2.loading;\n    var intersected = _ref3.intersected,\n      originalSrcLoaded = _ref3.originalSrcLoaded,\n      originalSrc = _ref3.originalSrc,\n      lqipSrc = _ref3.lqipSrc;\n\n    /*\n      No lazy loading no lqip\n        src=originalImage\n      No lazy loading lqip\n        src=lqip\n        src=originalImage (when loaded)\n      lazy loading and no lqip\n        src=''\n        onIntersect:\n        src=originalImage\n      lazy loading and lqip\n        src=lqip\n        onIntersect:\n        src=originalImage (when loaded)\n    */\n    var isLqipActive = function isLqipActive(lqip) {\n      return lqip && lqip.active;\n    };\n    if (loading !== \"lazy\" && !isLqipActive(lqip)) {\n      return originalSrc;\n    } else if (loading !== \"lazy\" && isLqipActive(lqip)) {\n      if (originalSrcLoaded) {\n        return originalSrc;\n      } else {\n        return lqipSrc;\n      }\n    } else if (loading === \"lazy\" && !isLqipActive(lqip)) {\n      if (intersected) {\n        return originalSrc;\n      } else {\n        return \"\";\n      }\n    } else {\n      //  if (loading === \"lazy\" && isLqipActive(lqip))\n      if (intersected && originalSrcLoaded) {\n        return originalSrc;\n      } else {\n        return lqipSrc;\n      }\n    }\n  };\n  var useImageKitComponent = function useImageKitComponent(props) {\n    var contextOptions = React.useContext(ImageKitContext);\n    var getIKClient = function getIKClient() {\n      if (contextOptions && contextOptions.ikClient) {\n        return contextOptions.ikClient;\n      }\n      var urlEndpoint = props.urlEndpoint;\n      urlEndpoint = urlEndpoint || contextOptions && contextOptions.urlEndpoint;\n      if (!urlEndpoint || urlEndpoint.trim() === \"\") {\n        throw new Error(\"Missing urlEndpoint during initialization\");\n      }\n      var ikClient = new ImageKit({\n        urlEndpoint: urlEndpoint,\n        // @ts-ignore\n        sdkVersion: \"\"\n      });\n      return ikClient;\n    };\n    return {\n      getIKClient: getIKClient\n    };\n  };\n  var IKImage = function IKImage(props) {\n    var imageRef = React.useRef(null);\n    var _useImageKitComponent = useImageKitComponent(_objectSpread2$1({}, props)),\n      getIKClient = _useImageKitComponent.getIKClient;\n    var contextOptions = React.useContext(ImageKitContext);\n    var _useState = React.useState(undefined),\n      _useState2 = _slicedToArray(_useState, 2),\n      currentUrl = _useState2[0],\n      setCurrentUrl = _useState2[1];\n    var _useState3 = React.useState(\"\"),\n      _useState4 = _slicedToArray(_useState3, 2),\n      originalSrc = _useState4[0],\n      setOriginalSrc = _useState4[1];\n    var _useState5 = React.useState(\"\"),\n      _useState6 = _slicedToArray(_useState5, 2),\n      lqipSrc = _useState6[0],\n      setLqipSrc = _useState6[1];\n    var _useState7 = React.useState(false),\n      _useState8 = _slicedToArray(_useState7, 2),\n      originalSrcLoaded = _useState8[0],\n      setOriginalSrcLoaded = _useState8[1];\n    var _useState9 = React.useState(undefined),\n      _useState10 = _slicedToArray(_useState9, 2),\n      observe = _useState10[0],\n      setObserve = _useState10[1];\n    var _useState11 = React.useState(false),\n      _useState12 = _slicedToArray(_useState11, 2),\n      initialized = _useState12[0],\n      setInitialized = _useState12[1];\n    var _useState13 = React.useState(false),\n      _useState14 = _slicedToArray(_useState13, 2),\n      intersected = _useState14[0],\n      setIntersected = _useState14[1];\n    React.useEffect(function () {\n      var _getSrc = getSrc(props, getIKClient(), contextOptions),\n        newOriginalSrc = _getSrc.originalSrc,\n        newLqipSrc = _getSrc.lqipSrc;\n      setOriginalSrc(newOriginalSrc);\n      setLqipSrc(newLqipSrc ? newLqipSrc : '');\n      setInitialized(true);\n    }, [contextOptions, props]);\n    var updateImageUrl = /*#__PURE__*/function () {\n      var _ref = _asyncToGenerator( /*#__PURE__*/_regeneratorRuntime.mark(function _callee() {\n        var url;\n        return _regeneratorRuntime.wrap(function _callee$(_context) {\n          while (1) {\n            switch (_context.prev = _context.next) {\n              case 0:\n                _context.next = 2;\n                return getIKElementsUrl(props, {\n                  originalSrc: originalSrc,\n                  lqipSrc: lqipSrc,\n                  intersected: intersected,\n                  contextOptions: contextOptions,\n                  initialzeState: initialized,\n                  originalSrcLoaded: originalSrcLoaded,\n                  observe: observe\n                });\n              case 2:\n                url = _context.sent;\n\n                // Include intersected state\n                if (url) {\n                  setCurrentUrl(url);\n                }\n              case 4:\n              case \"end\":\n                return _context.stop();\n            }\n          }\n        }, _callee);\n      }));\n      return function updateImageUrl() {\n        return _ref.apply(this, arguments);\n      };\n    }();\n    var triggerOriginalImageLoad = function triggerOriginalImageLoad() {\n      var img = new Image();\n      img.onload = function () {\n        setOriginalSrcLoaded(true);\n      };\n      img.src = originalSrc;\n    };\n    React.useEffect(function () {\n      if (originalSrcLoaded) updateImageUrl();\n    }, [originalSrcLoaded]);\n    React.useEffect(function () {\n      var image = imageRef.current;\n      var loading = props.loading;\n      if (initialized) {\n        if (window && 'IntersectionObserver' in window && loading === \"lazy\") {\n          var connectionType = fetchEffectiveConnection();\n          var rootMargin = \"1250px\";\n          if (connectionType !== \"4g\") rootMargin = \"2500px\";\n          var imageObserver = new IntersectionObserver(function (entries) {\n            var el = entries[0];\n            if (el && el.isIntersecting && !intersected) {\n              setIntersected(true);\n              setObserve(function (prevObserver) {\n                if (prevObserver) {\n                  prevObserver.disconnect();\n                }\n                return undefined;\n              });\n              triggerOriginalImageLoad();\n              updateImageUrl();\n            }\n          }, {\n            rootMargin: \"\".concat(rootMargin, \" 0px \").concat(rootMargin, \" 0px\")\n          });\n          if (image) {\n            imageObserver.observe(image);\n            setObserve(imageObserver);\n          }\n        } else {\n          setIntersected(true);\n          triggerOriginalImageLoad();\n          updateImageUrl();\n        }\n      }\n      return function () {\n        if (observe) {\n          observe.disconnect();\n        }\n      };\n    }, [props, originalSrc, lqipSrc]);\n    var urlEndpoint = props.urlEndpoint,\n      authenticator = props.authenticator,\n      publicKey = props.publicKey,\n      loading = props.loading,\n      lqip = props.lqip,\n      path = props.path,\n      src = props.src,\n      transformation = props.transformation,\n      transformationPosition = props.transformationPosition,\n      queryParameters = props.queryParameters,\n      restProps = _objectWithoutProperties(props, [\"urlEndpoint\", \"authenticator\", \"publicKey\", \"loading\", \"lqip\", \"path\", \"src\", \"transformation\", \"transformationPosition\", \"queryParameters\"]);\n    return /*#__PURE__*/React__default['default'].createElement(\"img\", _extends({\n      alt: props.alt || \"\",\n      src: currentUrl ? currentUrl : '',\n      ref: imageRef\n    }, restProps));\n  };\n  IKImage.propTypes = COMBINED_IMAGE_PROP_TYPES;\n  var Props$3 = {\n    path: propTypes.string,\n    src: propTypes.string,\n    queryParameters: propTypes.objectOf(propTypes.oneOfType([propTypes.string, propTypes.number]).isRequired),\n    transformation: propTypes.arrayOf(propTypes.object.isRequired),\n    transformationPosition: propTypes.oneOf(['path', 'query'])\n  };\n  var COMBINED_IMAGE_PROP_TYPES$1 = _objectSpread2$1(_objectSpread2$1({}, Props$2), Props$3);\n  var IKVideo = function IKVideo(props) {\n    var videoRef = React.useRef(null);\n    var _useState = React.useState({\n        currentUrl: '',\n        contextOptions: {}\n      }),\n      _useState2 = _slicedToArray(_useState, 2),\n      state = _useState2[0],\n      setState = _useState2[1];\n    var _useImageKitComponent = useImageKitComponent(_objectSpread2$1({}, props)),\n      getIKClient = _useImageKitComponent.getIKClient;\n    var contextItems = React.useContext(ImageKitContext);\n    React.useEffect(function () {\n      var _getSrc = getSrc(props, getIKClient(), contextItems),\n        originalSrc = _getSrc.originalSrc;\n      setState(function (prevState) {\n        return _objectSpread2$1(_objectSpread2$1({}, prevState), {}, {\n          currentUrl: originalSrc,\n          contextOptions: contextItems\n        });\n      });\n    }, [contextItems, props]);\n    var currentUrl = state.currentUrl;\n    var urlEndpoint = props.urlEndpoint,\n      publicKey = props.publicKey,\n      authenticator = props.authenticator,\n      path = props.path,\n      src = props.src,\n      transformation = props.transformation,\n      transformationPosition = props.transformationPosition,\n      queryParameters = props.queryParameters,\n      restProps = _objectWithoutProperties(props, [\"urlEndpoint\", \"publicKey\", \"authenticator\", \"path\", \"src\", \"transformation\", \"transformationPosition\", \"queryParameters\"]);\n    return /*#__PURE__*/React__default['default'].createElement(\"video\", _extends({}, restProps, {\n      ref: videoRef,\n      key: currentUrl\n    }), /*#__PURE__*/React__default['default'].createElement(\"source\", {\n      src: currentUrl,\n      type: \"video/mp4\"\n    }));\n  };\n  IKVideo.propTypes = COMBINED_IMAGE_PROP_TYPES$1;\n  var PROP_TYPES = _objectSpread2$1(_objectSpread2$1({}, Props$2), Props$1);\n  var IKUpload = /*#__PURE__*/React.forwardRef(function (props, ref) {\n    var _useState = React.useState({}),\n      _useState2 = _slicedToArray(_useState, 2),\n      state = _useState2[0],\n      setState = _useState2[1];\n    var contextOptions = React.useContext(ImageKitContext);\n    var _useImageKitComponent = useImageKitComponent(_objectSpread2$1({}, props)),\n      getIKClient = _useImageKitComponent.getIKClient;\n    var abort = function abort() {\n      if (state.xhr) {\n        state.xhr.abort();\n      }\n    };\n    if (ref && ref.current) {\n      ref.current = _objectSpread2$1(_objectSpread2$1({}, ref.current), {}, {\n        abort: abort\n      });\n    }\n    var publicKey = props.publicKey,\n      urlEndpoint = props.urlEndpoint,\n      authenticator = props.authenticator,\n      fileName = props.fileName,\n      useUniqueFileName = props.useUniqueFileName,\n      tags = props.tags,\n      folder = props.folder,\n      isPrivateFile = props.isPrivateFile,\n      customCoordinates = props.customCoordinates,\n      responseFields = props.responseFields,\n      onError = props.onError,\n      onSuccess = props.onSuccess,\n      onUploadStart = props.onUploadStart,\n      onUploadProgress = props.onUploadProgress,\n      validateFile = props.validateFile,\n      webhookUrl = props.webhookUrl,\n      overwriteFile = props.overwriteFile,\n      overwriteAITags = props.overwriteAITags,\n      overwriteTags = props.overwriteTags,\n      overwriteCustomMetadata = props.overwriteCustomMetadata,\n      extensions = props.extensions,\n      customMetadata = props.customMetadata,\n      restProps = _objectWithoutProperties(props, [\"publicKey\", \"urlEndpoint\", \"authenticator\", \"fileName\", \"useUniqueFileName\", \"tags\", \"folder\", \"isPrivateFile\", \"customCoordinates\", \"responseFields\", \"onError\", \"onSuccess\", \"onUploadStart\", \"onUploadProgress\", \"validateFile\", \"webhookUrl\", \"overwriteFile\", \"overwriteAITags\", \"overwriteTags\", \"overwriteCustomMetadata\", \"extensions\", \"customMetadata\"]);\n    var uploadFile = function uploadFile(e) {\n      var _e$target$files;\n      var publicKey = props.publicKey || contextOptions.publicKey;\n      var authenticator = props.authenticator || contextOptions.authenticator;\n      var urlEndpoint = props.urlEndpoint || contextOptions.urlEndpoint;\n      if (!publicKey || publicKey.trim() === \"\") {\n        if (onError && typeof onError === \"function\") {\n          onError({\n            message: \"Missing publicKey\"\n          });\n        }\n        return;\n      }\n      if (!authenticator) {\n        if (onError && typeof onError === \"function\") {\n          onError({\n            message: \"The authenticator function is not provided.\"\n          });\n        }\n        return;\n      }\n      if (typeof authenticator !== 'function') {\n        if (onError && typeof onError === \"function\") {\n          onError({\n            message: \"The provided authenticator is not a function.\"\n          });\n        }\n        return;\n      }\n      if (!urlEndpoint || urlEndpoint.trim() === \"\") {\n        if (onError && typeof onError === \"function\") {\n          onError({\n            message: \"Missing urlEndpoint\"\n          });\n        }\n        return;\n      }\n      var ikClient = getIKClient();\n      var file = (_e$target$files = e.target.files) === null || _e$target$files === void 0 ? void 0 : _e$target$files[0];\n      if (!file) {\n        return;\n      }\n      if (props.validateFile && !props.validateFile(file)) {\n        return;\n      }\n      if (props.onUploadStart && typeof props.onUploadStart === \"function\") {\n        props.onUploadStart(e);\n      }\n      var xhr = new XMLHttpRequest();\n      var progressCb = function progressCb(e) {\n        if (props.onUploadProgress && typeof props.onUploadProgress === 'function') {\n          props.onUploadProgress(e);\n        }\n      };\n      xhr.upload.addEventListener('progress', progressCb);\n      var params = {\n        file: file,\n        fileName: fileName || file.name,\n        useUniqueFileName: useUniqueFileName,\n        tags: tags,\n        folder: folder,\n        isPrivateFile: isPrivateFile,\n        customCoordinates: customCoordinates,\n        responseFields: responseFields,\n        extensions: extensions,\n        webhookUrl: webhookUrl,\n        overwriteFile: overwriteFile,\n        overwriteAITags: overwriteAITags,\n        overwriteTags: overwriteTags,\n        overwriteCustomMetadata: overwriteCustomMetadata,\n        customMetadata: customMetadata,\n        signature: '',\n        expire: 0,\n        token: '',\n        xhr: xhr\n      };\n      var authPromise = authenticator();\n      if (!(authPromise instanceof Promise)) {\n        if (onError && typeof onError === \"function\") {\n          onError({\n            message: \"The authenticator function is expected to return a Promise instance.\"\n          });\n        }\n        return;\n      }\n      authPromise.then(function (_ref) {\n        var signature = _ref.signature,\n          token = _ref.token,\n          expire = _ref.expire;\n        params['signature'] = signature;\n        params['expire'] = expire;\n        params['token'] = token;\n        ikClient.upload(params, function (err, result) {\n          if (err) {\n            if (onError && typeof onError === \"function\") {\n              console.log(err);\n              onError(err);\n            }\n          } else {\n            if (onSuccess && typeof onSuccess === \"function\") {\n              onSuccess(result);\n            }\n          }\n          xhr.upload.removeEventListener('progress', progressCb);\n        }, {\n          publicKey: publicKey\n        });\n        setState({\n          xhr: xhr\n        });\n      })[\"catch\"](function (data) {\n        var error;\n        if (data instanceof Array) {\n          error = data[0];\n        } else {\n          error = data;\n        }\n        if (onError && typeof onError === \"function\") {\n          onError({\n            message: String(error)\n          });\n        }\n        return;\n      });\n    };\n    return /*#__PURE__*/React__default['default'].createElement(\"input\", _extends({}, restProps, {\n      ref: ref,\n      type: \"file\",\n      onChange: function onChange(e) {\n        if (props.onChange && typeof props.onChange === \"function\") {\n          props.onChange(e);\n        }\n        uploadFile(e);\n      }\n    }));\n  });\n  IKUpload.propTypes = _objectSpread2$1({}, PROP_TYPES);\n  exports.IKContext = IKContext;\n  exports.IKCore = ImageKit;\n  exports.IKImage = IKImage;\n  exports.IKUpload = IKUpload;\n  exports.IKVideo = IKVideo;\n  Object.defineProperty(exports, '__esModule', {\n    value: true\n  });\n});","map":{"version":3,"names":["global","factory","exports","module","require","define","amd","globalThis","self","ImageKitReact","React","_interopDefaultLegacy","e","React__default","_typeof","obj","Symbol","iterator","constructor","prototype","_classCallCheck","instance","Constructor","TypeError","_defineProperties","target","props","i","length","descriptor","enumerable","configurable","writable","Object","defineProperty","key","_createClass","protoProps","staticProps","_defineProperty","value","ownKeys","object","enumerableOnly","keys","getOwnPropertySymbols","symbols","filter","sym","getOwnPropertyDescriptor","push","apply","_objectSpread2","arguments","source","forEach","getOwnPropertyDescriptors","defineProperties","version","errorMessages","MANDATORY_INITIALIZATION_MISSING","message","help","INVALID_TRANSFORMATION_POSITION","PRIVATE_KEY_CLIENT_SIDE","MISSING_UPLOAD_DATA","MISSING_UPLOAD_FILE_PARAMETER","MISSING_UPLOAD_FILENAME_PARAMETER","MISSING_AUTHENTICATION_ENDPOINT","MISSING_PUBLIC_KEY","AUTH_ENDPOINT_TIMEOUT","AUTH_ENDPOINT_NETWORK_ERROR","AUTH_INVALID_RESPONSE","UPLOAD_ENDPOINT_NETWORK_ERROR","INVALID_UPLOAD_OPTIONS","MISSING_SIGNATURE","MISSING_TOKEN","MISSING_EXPIRE","respond","isError","response","callback","getResponseHeaderMap","xhr","headers","responseHeaders","getAllResponseHeaders","trim","split","map","keyValue","addResponseHeadersAndBody","body","responseMetadata","statusCode","status","request","uploadFileXHR","formData","uploadFile","then","result","ex","Promise","resolve","reject","open","onerror","onload","JSON","parse","responseText","uploadResponse","uploadError","send","upload","uploadOptions","options","file","fileName","publicKey","token","signature","expire","FormData","append","String","Array","isArray","tags","join","responseFields","extensions","stringify","customMetadata","undefined","supportedTransforms","width","height","aspectRatio","quality","crop","cropMode","focus","x","y","format","radius","background","border","rotation","rotate","blur","named","overlayImage","overlayImageAspectRatio","overlayImageBackground","overlayImageBorder","overlayImageDPR","overlayImageQuality","overlayImageCropping","overlayImageTrim","overlayX","overlayY","overlayFocus","overlayHeight","overlayWidth","overlayText","overlayTextFontSize","overlayTextFontFamily","overlayTextColor","overlayTextTransparency","overlayAlpha","overlayTextTypography","overlayBackground","overlayTextEncoded","overlayTextWidth","overlayTextBackground","overlayTextPadding","overlayTextInnerAlignment","overlayRadius","progressive","lossless","metadata","colorProfile","defaultImage","dpr","effectSharpen","effectUSM","effectContrast","effectGray","original","raw","DEFAULT_TRANSFORMATION_POSITION","QUERY_TRANSFORMATION_POSITION","VALID_TRANSFORMATION_POSITIONS","CHAIN_TRANSFORM_DELIMITER","TRANSFORM_DELIMITER","TRANSFORM_KEY_VALUE_DELIMITER","transformationUtils","getDefault","addAsQueryParameter","transformationPosition","validParameters","indexOf","getTransformKey","transform","toLowerCase","getChainTransformDelimiter","getTransformDelimiter","getTransformKeyValueDelimiter","TRANSFORMATION_PARAMETER","removeTrailingSlash","str","substring","removeLeadingSlash","slice","pathJoin","parts","sep","separator","replace","RegExp","buildURL","opts","path","src","urlObj","isSrcParameterUsedForURL","urlEndpointPattern","URL","urlEndpoint","pathname","console","error","queryParameters","searchParams","transformationString","constructTransformationString","transformation","href","parsedTransforms","l","parsedTransformStep","transformKey","url","urlOpts","defaultOptions","mandatoryParametersAvailable","promisify","thisContext","fn","_len","args","_key","Error","call","concat","err","_len2","results","_key2","pop","ImageKit","sdkVersion","url$1","urlOptions","upload$1","callbackOrOptions","mergedOptions","_ref","userProvidedXHR","XMLHttpRequest","asyncGeneratorStep","gen","_next","_throw","arg","info","done","_asyncToGenerator","_defineProperty$1","_extends","assign","hasOwnProperty","ownKeys$1","_objectSpread2$1","_objectWithoutPropertiesLoose","excluded","sourceKeys","_objectWithoutProperties","sourceSymbolKeys","propertyIsEnumerable","_slicedToArray","arr","_arrayWithHoles","_iterableToArrayLimit","_unsupportedIterableToArray","_nonIterableRest","_toConsumableArray","_arrayWithoutHoles","_iterableToArray","_nonIterableSpread","_arrayLikeToArray","iter","from","_arr","_n","_d","_e","_i","_s","next","o","minLen","n","toString","name","test","len","arr2","createCommonjsModule","basedir","base","commonjsRequire","ReactPropTypesSecret","ReactPropTypesSecret_1","emptyFunction","emptyFunctionWithReset","resetWarningCache","factoryWithThrowingShims","shim","propName","componentName","location","propFullName","secret","isRequired","getShim","ReactPropTypes","array","bool","func","number","string","symbol","any","arrayOf","element","elementType","instanceOf","node","objectOf","oneOf","oneOfType","shape","exact","checkPropTypes","PropTypes","propTypes","Props","loading","lqip","active","threshold","Props$1","useUniqueFileName","isPrivateFile","folder","customCoordinates","webhookUrl","overwriteFile","overwriteAITags","overwriteTags","overwriteCustomMetadata","onError","onSuccess","onUploadStart","onUploadProgress","validateFile","ref","Props$2","authenticator","IKContextCombinedProps","ikClient","ImageKitContext","createContext","IKContext","extractContextOptions","propKeys","contextOptionsExtracted","createElement","Provider","children","COMBINED_IMAGE_PROP_TYPES","fetchEffectiveConnection","navigator","connection","effectiveType","getSrc","contextOptions","originalSrc","Math","round","newTransformation","lqipSrc","getIKElementsUrl","_ref2","_ref3","_ref2$lqip","intersected","originalSrcLoaded","isLqipActive","useImageKitComponent","useContext","getIKClient","IKImage","imageRef","useRef","_useImageKitComponent","_useState","useState","_useState2","currentUrl","setCurrentUrl","_useState3","_useState4","setOriginalSrc","_useState5","_useState6","setLqipSrc","_useState7","_useState8","setOriginalSrcLoaded","_useState9","_useState10","observe","setObserve","_useState11","_useState12","initialized","setInitialized","_useState13","_useState14","setIntersected","useEffect","_getSrc","newOriginalSrc","newLqipSrc","updateImageUrl","_regeneratorRuntime","mark","_callee","wrap","_callee$","_context","prev","initialzeState","sent","stop","triggerOriginalImageLoad","img","Image","image","current","window","connectionType","rootMargin","imageObserver","IntersectionObserver","entries","el","isIntersecting","prevObserver","disconnect","restProps","alt","Props$3","COMBINED_IMAGE_PROP_TYPES$1","IKVideo","videoRef","state","setState","contextItems","prevState","type","PROP_TYPES","IKUpload","forwardRef","abort","_e$target$files","files","progressCb","addEventListener","params","authPromise","log","removeEventListener","data","onChange","IKCore"],"sources":["/home/chandan.singh/Documents/react-app/react/node_modules/imagekitio-react/dist/imagekitio-react.umd.js"],"sourcesContent":["(function (global, factory) {\n  typeof exports === 'object' && typeof module !== 'undefined' ? factory(exports, require('react')) :\n  typeof define === 'function' && define.amd ? define(['exports', 'react'], factory) :\n  (global = typeof globalThis !== 'undefined' ? globalThis : global || self, factory(global.ImageKitReact = {}, global.React));\n}(this, (function (exports, React) { 'use strict';\n\n  function _interopDefaultLegacy (e) { return e && typeof e === 'object' && 'default' in e ? e : { 'default': e }; }\n\n  var React__default = /*#__PURE__*/_interopDefaultLegacy(React);\n\n  function _typeof(obj) {\n    \"@babel/helpers - typeof\";\n\n    if (typeof Symbol === \"function\" && typeof Symbol.iterator === \"symbol\") {\n      _typeof = function (obj) {\n        return typeof obj;\n      };\n    } else {\n      _typeof = function (obj) {\n        return obj && typeof Symbol === \"function\" && obj.constructor === Symbol && obj !== Symbol.prototype ? \"symbol\" : typeof obj;\n      };\n    }\n\n    return _typeof(obj);\n  }\n\n  function _classCallCheck(instance, Constructor) {\n    if (!(instance instanceof Constructor)) {\n      throw new TypeError(\"Cannot call a class as a function\");\n    }\n  }\n\n  function _defineProperties(target, props) {\n    for (var i = 0; i < props.length; i++) {\n      var descriptor = props[i];\n      descriptor.enumerable = descriptor.enumerable || false;\n      descriptor.configurable = true;\n      if (\"value\" in descriptor) descriptor.writable = true;\n      Object.defineProperty(target, descriptor.key, descriptor);\n    }\n  }\n\n  function _createClass(Constructor, protoProps, staticProps) {\n    if (protoProps) _defineProperties(Constructor.prototype, protoProps);\n    if (staticProps) _defineProperties(Constructor, staticProps);\n    return Constructor;\n  }\n\n  function _defineProperty(obj, key, value) {\n    if (key in obj) {\n      Object.defineProperty(obj, key, {\n        value: value,\n        enumerable: true,\n        configurable: true,\n        writable: true\n      });\n    } else {\n      obj[key] = value;\n    }\n\n    return obj;\n  }\n\n  function ownKeys(object, enumerableOnly) {\n    var keys = Object.keys(object);\n\n    if (Object.getOwnPropertySymbols) {\n      var symbols = Object.getOwnPropertySymbols(object);\n      if (enumerableOnly) symbols = symbols.filter(function (sym) {\n        return Object.getOwnPropertyDescriptor(object, sym).enumerable;\n      });\n      keys.push.apply(keys, symbols);\n    }\n\n    return keys;\n  }\n\n  function _objectSpread2(target) {\n    for (var i = 1; i < arguments.length; i++) {\n      var source = arguments[i] != null ? arguments[i] : {};\n\n      if (i % 2) {\n        ownKeys(Object(source), true).forEach(function (key) {\n          _defineProperty(target, key, source[key]);\n        });\n      } else if (Object.getOwnPropertyDescriptors) {\n        Object.defineProperties(target, Object.getOwnPropertyDescriptors(source));\n      } else {\n        ownKeys(Object(source)).forEach(function (key) {\n          Object.defineProperty(target, key, Object.getOwnPropertyDescriptor(source, key));\n        });\n      }\n    }\n\n    return target;\n  }\n\n  var version = \"2.0.0\";\n  var errorMessages = {\n    MANDATORY_INITIALIZATION_MISSING: {\n      message: \"Missing urlEndpoint during SDK initialization\",\n      help: \"\"\n    },\n    INVALID_TRANSFORMATION_POSITION: {\n      message: \"Invalid transformationPosition parameter\",\n      help: \"\"\n    },\n    PRIVATE_KEY_CLIENT_SIDE: {\n      message: \"privateKey should not be passed on the client side\",\n      help: \"\"\n    },\n    MISSING_UPLOAD_DATA: {\n      message: \"Missing data for upload\",\n      help: \"\"\n    },\n    MISSING_UPLOAD_FILE_PARAMETER: {\n      message: \"Missing file parameter for upload\",\n      help: \"\"\n    },\n    MISSING_UPLOAD_FILENAME_PARAMETER: {\n      message: \"Missing fileName parameter for upload\",\n      help: \"\"\n    },\n    MISSING_AUTHENTICATION_ENDPOINT: {\n      message: \"Missing authentication endpoint for upload\",\n      help: \"\"\n    },\n    MISSING_PUBLIC_KEY: {\n      message: \"Missing public key for upload\",\n      help: \"\"\n    },\n    AUTH_ENDPOINT_TIMEOUT: {\n      message: \"The authenticationEndpoint you provided timed out in 60 seconds\",\n      help: \"\"\n    },\n    AUTH_ENDPOINT_NETWORK_ERROR: {\n      message: \"Request to authenticationEndpoint failed due to network error\",\n      help: \"\"\n    },\n    AUTH_INVALID_RESPONSE: {\n      message: \"Invalid response from authenticationEndpoint. The SDK expects a JSON response with three fields i.e. signature, token and expire.\",\n      help: \"\"\n    },\n    UPLOAD_ENDPOINT_NETWORK_ERROR: {\n      message: \"Request to ImageKit upload endpoint failed due to network error\",\n      help: \"\"\n    },\n    INVALID_UPLOAD_OPTIONS: {\n      message: \"Invalid uploadOptions parameter\",\n      help: \"\"\n    },\n    MISSING_SIGNATURE: {\n      message: \"Missing signature for upload. The SDK expects token, sginature and expire for authentication.\",\n      help: \"\"\n    },\n    MISSING_TOKEN: {\n      message: \"Missing token for upload. The SDK expects token, sginature and expire for authentication.\",\n      help: \"\"\n    },\n    MISSING_EXPIRE: {\n      message: \"Missing expire for upload. The SDK expects token, sginature and expire for authentication.\",\n      help: \"\"\n    }\n  };\n\n  function respond(isError, response, callback) {\n    if (typeof callback == \"function\") {\n      if (isError) {\n        callback(response, null);\n      } else {\n        callback(null, response);\n      }\n    }\n  }\n\n  function getResponseHeaderMap(xhr) {\n    var headers = {};\n    var responseHeaders = xhr.getAllResponseHeaders();\n\n    if (Object.keys(responseHeaders).length) {\n      responseHeaders.trim().split(/[\\r\\n]+/).map(function (value) {\n        return value.split(/: /);\n      }).forEach(function (keyValue) {\n        headers[keyValue[0].trim()] = keyValue[1].trim();\n      });\n    }\n\n    return headers;\n  }\n\n  var addResponseHeadersAndBody = function addResponseHeadersAndBody(body, xhr) {\n    var response = _objectSpread2({}, body);\n\n    var responseMetadata = {\n      statusCode: xhr.status,\n      headers: getResponseHeaderMap(xhr)\n    };\n    Object.defineProperty(response, \"$ResponseMetadata\", {\n      value: responseMetadata,\n      enumerable: false,\n      writable: false\n    });\n    return response;\n  };\n\n  var request = function request(uploadFileXHR, formData, callback) {\n    uploadFile(uploadFileXHR, formData).then(function (result) {\n      return respond(false, result, callback);\n    }, function (ex) {\n      return respond(true, ex, callback);\n    });\n  };\n\n  var uploadFile = function uploadFile(uploadFileXHR, formData) {\n    return new Promise(function (resolve, reject) {\n      uploadFileXHR.open('POST', 'https://upload.imagekit.io/api/v1/files/upload');\n\n      uploadFileXHR.onerror = function (e) {\n        return reject(errorMessages.UPLOAD_ENDPOINT_NETWORK_ERROR);\n      };\n\n      uploadFileXHR.onload = function () {\n        if (uploadFileXHR.status === 200) {\n          try {\n            var body = JSON.parse(uploadFileXHR.responseText);\n            var uploadResponse = addResponseHeadersAndBody(body, uploadFileXHR);\n            return resolve(uploadResponse);\n          } catch (ex) {\n            return reject(ex);\n          }\n        } else {\n          try {\n            var body = JSON.parse(uploadFileXHR.responseText);\n            var uploadError = addResponseHeadersAndBody(body, uploadFileXHR);\n            return reject(uploadError);\n          } catch (ex) {\n            return reject(ex);\n          }\n        }\n      };\n\n      uploadFileXHR.send(formData);\n    });\n  };\n\n  var upload = function upload(xhr, uploadOptions, options, callback) {\n    if (!uploadOptions.file) {\n      respond(true, errorMessages.MISSING_UPLOAD_FILE_PARAMETER, callback);\n      return;\n    }\n\n    if (!uploadOptions.fileName) {\n      respond(true, errorMessages.MISSING_UPLOAD_FILENAME_PARAMETER, callback);\n      return;\n    }\n\n    if (!options.publicKey) {\n      respond(true, errorMessages.MISSING_PUBLIC_KEY, callback);\n      return;\n    }\n\n    if (!uploadOptions.token) {\n      respond(true, errorMessages.MISSING_TOKEN, callback);\n      return;\n    }\n\n    if (!uploadOptions.signature) {\n      respond(true, errorMessages.MISSING_SIGNATURE, callback);\n      return;\n    }\n\n    if (!uploadOptions.expire) {\n      respond(true, errorMessages.MISSING_EXPIRE, callback);\n      return;\n    }\n\n    var formData = new FormData();\n    var key;\n\n    for (key in uploadOptions) {\n      if (key) {\n        if (key === \"file\" && typeof uploadOptions.file != \"string\") {\n          formData.append('file', uploadOptions.file, String(uploadOptions.fileName));\n        } else if (key === \"tags\" && Array.isArray(uploadOptions.tags)) {\n          formData.append('tags', uploadOptions.tags.join(\",\"));\n        } else if (key === 'signature') {\n          formData.append(\"signature\", uploadOptions.signature);\n        } else if (key === 'expire') {\n          formData.append(\"expire\", String(uploadOptions.expire));\n        } else if (key === 'token') {\n          formData.append(\"token\", uploadOptions.token);\n        } else if (key === \"responseFields\" && Array.isArray(uploadOptions.responseFields)) {\n          formData.append('responseFields', uploadOptions.responseFields.join(\",\"));\n        } else if (key === \"extensions\" && Array.isArray(uploadOptions.extensions)) {\n          formData.append('extensions', JSON.stringify(uploadOptions.extensions));\n        } else if (key === \"customMetadata\" && _typeof(uploadOptions.customMetadata) === \"object\" && !Array.isArray(uploadOptions.customMetadata) && uploadOptions.customMetadata !== null) {\n          formData.append('customMetadata', JSON.stringify(uploadOptions.customMetadata));\n        } else if (uploadOptions[key] !== undefined) {\n          formData.append(key, String(uploadOptions[key]));\n        }\n      }\n    }\n\n    formData.append(\"publicKey\", options.publicKey);\n    request(xhr, formData, callback);\n  };\n\n  var supportedTransforms = {\n    width: \"w\",\n    height: \"h\",\n    aspectRatio: \"ar\",\n    quality: \"q\",\n    crop: \"c\",\n    cropMode: \"cm\",\n    focus: \"fo\",\n    x: \"x\",\n    y: \"y\",\n    format: \"f\",\n    radius: \"r\",\n    background: \"bg\",\n    border: \"b\",\n    rotation: \"rt\",\n    rotate: \"rt\",\n    blur: \"bl\",\n    named: \"n\",\n    overlayImage: \"oi\",\n    overlayImageAspectRatio: \"oiar\",\n    overlayImageBackground: \"oibg\",\n    overlayImageBorder: \"oib\",\n    overlayImageDPR: \"oidpr\",\n    overlayImageQuality: \"oiq\",\n    overlayImageCropping: \"oic\",\n    overlayImageTrim: \"oit\",\n    overlayX: \"ox\",\n    overlayY: \"oy\",\n    overlayFocus: \"ofo\",\n    overlayHeight: \"oh\",\n    overlayWidth: \"ow\",\n    overlayText: \"ot\",\n    overlayTextFontSize: \"ots\",\n    overlayTextFontFamily: \"otf\",\n    overlayTextColor: \"otc\",\n    overlayTextTransparency: \"oa\",\n    overlayAlpha: \"oa\",\n    overlayTextTypography: \"ott\",\n    overlayBackground: \"obg\",\n    overlayTextEncoded: \"ote\",\n    overlayTextWidth: \"otw\",\n    overlayTextBackground: \"otbg\",\n    overlayTextPadding: \"otp\",\n    overlayTextInnerAlignment: \"otia\",\n    overlayRadius: \"or\",\n    progressive: \"pr\",\n    lossless: \"lo\",\n    trim: \"t\",\n    metadata: \"md\",\n    colorProfile: \"cp\",\n    defaultImage: \"di\",\n    dpr: \"dpr\",\n    effectSharpen: \"e-sharpen\",\n    effectUSM: \"e-usm\",\n    effectContrast: \"e-contrast\",\n    effectGray: \"e-grayscale\",\n    original: \"orig\",\n    raw: \"raw\"\n  };\n  var DEFAULT_TRANSFORMATION_POSITION = \"path\";\n  var QUERY_TRANSFORMATION_POSITION = \"query\";\n  var VALID_TRANSFORMATION_POSITIONS = [DEFAULT_TRANSFORMATION_POSITION, QUERY_TRANSFORMATION_POSITION];\n  var CHAIN_TRANSFORM_DELIMITER = \":\";\n  var TRANSFORM_DELIMITER = \",\";\n  var TRANSFORM_KEY_VALUE_DELIMITER = \"-\";\n  var transformationUtils = {\n    getDefault: function getDefault() {\n      return DEFAULT_TRANSFORMATION_POSITION;\n    },\n    addAsQueryParameter: function addAsQueryParameter(options) {\n      return options.transformationPosition === QUERY_TRANSFORMATION_POSITION;\n    },\n    validParameters: function validParameters(options) {\n      if (typeof options.transformationPosition == \"undefined\") return false;\n      return VALID_TRANSFORMATION_POSITIONS.indexOf(options.transformationPosition) != -1;\n    },\n    getTransformKey: function getTransformKey(transform) {\n      if (!transform) {\n        return \"\";\n      }\n\n      return supportedTransforms[transform] || supportedTransforms[transform.toLowerCase()] || \"\";\n    },\n    getChainTransformDelimiter: function getChainTransformDelimiter() {\n      return CHAIN_TRANSFORM_DELIMITER;\n    },\n    getTransformDelimiter: function getTransformDelimiter() {\n      return TRANSFORM_DELIMITER;\n    },\n    getTransformKeyValueDelimiter: function getTransformKeyValueDelimiter() {\n      return TRANSFORM_KEY_VALUE_DELIMITER;\n    }\n  };\n  var TRANSFORMATION_PARAMETER = \"tr\";\n\n  function removeTrailingSlash(str) {\n    if (typeof str == \"string\" && str[str.length - 1] == \"/\") {\n      str = str.substring(0, str.length - 1);\n    }\n\n    return str;\n  }\n\n  function removeLeadingSlash(str) {\n    if (typeof str == \"string\" && str[0] == \"/\") {\n      str = str.slice(1);\n    }\n\n    return str;\n  }\n\n  function pathJoin(parts, sep) {\n    var separator = sep || \"/\";\n    var replace = new RegExp(separator + \"{1,}\", \"g\");\n    return parts.join(separator).replace(replace, separator);\n  }\n\n  var buildURL = function buildURL(opts) {\n    if (!opts.path && !opts.src) {\n      return \"\";\n    }\n\n    var urlObj, isSrcParameterUsedForURL, urlEndpointPattern;\n\n    try {\n      if (opts.path) {\n        urlEndpointPattern = new URL(opts.urlEndpoint).pathname;\n        urlObj = new URL(pathJoin([opts.urlEndpoint.replace(urlEndpointPattern, \"\"), opts.path]));\n      } else {\n        urlObj = new URL(opts.src);\n        isSrcParameterUsedForURL = true;\n      }\n    } catch (e) {\n      console.error(e);\n      return \"\";\n    }\n\n    for (var i in opts.queryParameters) {\n      urlObj.searchParams.append(i, String(opts.queryParameters[i]));\n    }\n\n    var transformationString = constructTransformationString(opts.transformation);\n\n    if (transformationString && transformationString.length) {\n      if (transformationUtils.addAsQueryParameter(opts) || isSrcParameterUsedForURL) {\n        urlObj.searchParams.append(TRANSFORMATION_PARAMETER, transformationString);\n      } else {\n        urlObj.pathname = pathJoin([TRANSFORMATION_PARAMETER + transformationUtils.getChainTransformDelimiter() + transformationString, urlObj.pathname]);\n      }\n    }\n\n    if (urlEndpointPattern) {\n      urlObj.pathname = pathJoin([urlEndpointPattern, urlObj.pathname]);\n    } else {\n      urlObj.pathname = pathJoin([urlObj.pathname]);\n    }\n\n    return urlObj.href;\n  };\n\n  function constructTransformationString(transformation) {\n    if (!Array.isArray(transformation)) {\n      return \"\";\n    }\n\n    var parsedTransforms = [];\n\n    for (var i = 0, l = transformation.length; i < l; i++) {\n      var parsedTransformStep = [];\n\n      for (var key in transformation[i]) {\n        var transformKey = transformationUtils.getTransformKey(key);\n\n        if (!transformKey) {\n          transformKey = key;\n        }\n\n        if (transformation[i][key] === \"-\") {\n          parsedTransformStep.push(transformKey);\n        } else if (key === \"raw\") {\n          parsedTransformStep.push(transformation[i][key]);\n        } else {\n          var value = transformation[i][key];\n\n          if (transformKey === \"oi\" || transformKey === \"di\") {\n            value = removeTrailingSlash(removeLeadingSlash(value || \"\"));\n            value = value.replace(/\\//g, \"@@\");\n          }\n\n          parsedTransformStep.push([transformKey, value].join(transformationUtils.getTransformKeyValueDelimiter()));\n        }\n      }\n\n      parsedTransforms.push(parsedTransformStep.join(transformationUtils.getTransformDelimiter()));\n    }\n\n    return parsedTransforms.join(transformationUtils.getChainTransformDelimiter());\n  }\n\n  var url = function url(urlOpts, defaultOptions) {\n    return buildURL(_objectSpread2(_objectSpread2({}, defaultOptions), urlOpts));\n  };\n\n  function mandatoryParametersAvailable(options) {\n    return options.urlEndpoint;\n  }\n\n  var promisify = function promisify(thisContext, fn) {\n    return function () {\n      for (var _len = arguments.length, args = new Array(_len), _key = 0; _key < _len; _key++) {\n        args[_key] = arguments[_key];\n      }\n\n      if (args.length === fn.length && typeof args[args.length - 1] !== \"undefined\") {\n        if (typeof args[args.length - 1] !== \"function\") {\n          throw new Error(\"Callback must be a function.\");\n        }\n\n        fn.call.apply(fn, [thisContext].concat(args));\n      } else {\n        return new Promise(function (resolve, reject) {\n          var callback = function callback(err) {\n            if (err) {\n              return reject(err);\n            } else {\n              for (var _len2 = arguments.length, results = new Array(_len2 > 1 ? _len2 - 1 : 0), _key2 = 1; _key2 < _len2; _key2++) {\n                results[_key2 - 1] = arguments[_key2];\n              }\n\n              resolve(results.length > 1 ? results : results[0]);\n            }\n          };\n\n          args.pop();\n          args.push(callback);\n          fn.call.apply(fn, [thisContext].concat(args));\n        });\n      }\n    };\n  };\n\n  var ImageKit = function () {\n    function ImageKit(opts) {\n      _classCallCheck(this, ImageKit);\n\n      _defineProperty(this, \"options\", {\n        sdkVersion: \"javascript-\".concat(version),\n        publicKey: \"\",\n        urlEndpoint: \"\",\n        transformationPosition: transformationUtils.getDefault()\n      });\n\n      this.options = _objectSpread2(_objectSpread2({}, this.options), opts || {});\n\n      if (!mandatoryParametersAvailable(this.options)) {\n        throw errorMessages.MANDATORY_INITIALIZATION_MISSING;\n      }\n\n      if (!transformationUtils.validParameters(this.options)) {\n        throw errorMessages.INVALID_TRANSFORMATION_POSITION;\n      }\n    }\n\n    _createClass(ImageKit, [{\n      key: \"url\",\n      value: function url$1(urlOptions) {\n        return url(urlOptions, this.options);\n      }\n    }, {\n      key: \"upload\",\n      value: function upload$1(uploadOptions, callbackOrOptions, options) {\n        var callback;\n\n        if (typeof callbackOrOptions === 'function') {\n          callback = callbackOrOptions;\n        } else {\n          options = callbackOrOptions || {};\n        }\n\n        if (!uploadOptions || _typeof(uploadOptions) !== \"object\") {\n          return respond(true, errorMessages.INVALID_UPLOAD_OPTIONS, callback);\n        }\n\n        var mergedOptions = _objectSpread2(_objectSpread2({}, this.options), options);\n\n        var _ref = uploadOptions || {},\n            userProvidedXHR = _ref.xhr;\n\n        delete uploadOptions.xhr;\n        var xhr = userProvidedXHR || new XMLHttpRequest();\n        return promisify(this, upload)(xhr, uploadOptions, mergedOptions, callback);\n      }\n    }]);\n\n    return ImageKit;\n  }();\n\n  function asyncGeneratorStep(gen, resolve, reject, _next, _throw, key, arg) {\n    try {\n      var info = gen[key](arg);\n      var value = info.value;\n    } catch (error) {\n      reject(error);\n      return;\n    }\n\n    if (info.done) {\n      resolve(value);\n    } else {\n      Promise.resolve(value).then(_next, _throw);\n    }\n  }\n\n  function _asyncToGenerator(fn) {\n    return function () {\n      var self = this,\n          args = arguments;\n      return new Promise(function (resolve, reject) {\n        var gen = fn.apply(self, args);\n\n        function _next(value) {\n          asyncGeneratorStep(gen, resolve, reject, _next, _throw, \"next\", value);\n        }\n\n        function _throw(err) {\n          asyncGeneratorStep(gen, resolve, reject, _next, _throw, \"throw\", err);\n        }\n\n        _next(undefined);\n      });\n    };\n  }\n\n  function _defineProperty$1(obj, key, value) {\n    if (key in obj) {\n      Object.defineProperty(obj, key, {\n        value: value,\n        enumerable: true,\n        configurable: true,\n        writable: true\n      });\n    } else {\n      obj[key] = value;\n    }\n\n    return obj;\n  }\n\n  function _extends() {\n    _extends = Object.assign || function (target) {\n      for (var i = 1; i < arguments.length; i++) {\n        var source = arguments[i];\n\n        for (var key in source) {\n          if (Object.prototype.hasOwnProperty.call(source, key)) {\n            target[key] = source[key];\n          }\n        }\n      }\n\n      return target;\n    };\n\n    return _extends.apply(this, arguments);\n  }\n\n  function ownKeys$1(object, enumerableOnly) {\n    var keys = Object.keys(object);\n\n    if (Object.getOwnPropertySymbols) {\n      var symbols = Object.getOwnPropertySymbols(object);\n      if (enumerableOnly) symbols = symbols.filter(function (sym) {\n        return Object.getOwnPropertyDescriptor(object, sym).enumerable;\n      });\n      keys.push.apply(keys, symbols);\n    }\n\n    return keys;\n  }\n\n  function _objectSpread2$1(target) {\n    for (var i = 1; i < arguments.length; i++) {\n      var source = arguments[i] != null ? arguments[i] : {};\n\n      if (i % 2) {\n        ownKeys$1(Object(source), true).forEach(function (key) {\n          _defineProperty$1(target, key, source[key]);\n        });\n      } else if (Object.getOwnPropertyDescriptors) {\n        Object.defineProperties(target, Object.getOwnPropertyDescriptors(source));\n      } else {\n        ownKeys$1(Object(source)).forEach(function (key) {\n          Object.defineProperty(target, key, Object.getOwnPropertyDescriptor(source, key));\n        });\n      }\n    }\n\n    return target;\n  }\n\n  function _objectWithoutPropertiesLoose(source, excluded) {\n    if (source == null) return {};\n    var target = {};\n    var sourceKeys = Object.keys(source);\n    var key, i;\n\n    for (i = 0; i < sourceKeys.length; i++) {\n      key = sourceKeys[i];\n      if (excluded.indexOf(key) >= 0) continue;\n      target[key] = source[key];\n    }\n\n    return target;\n  }\n\n  function _objectWithoutProperties(source, excluded) {\n    if (source == null) return {};\n\n    var target = _objectWithoutPropertiesLoose(source, excluded);\n\n    var key, i;\n\n    if (Object.getOwnPropertySymbols) {\n      var sourceSymbolKeys = Object.getOwnPropertySymbols(source);\n\n      for (i = 0; i < sourceSymbolKeys.length; i++) {\n        key = sourceSymbolKeys[i];\n        if (excluded.indexOf(key) >= 0) continue;\n        if (!Object.prototype.propertyIsEnumerable.call(source, key)) continue;\n        target[key] = source[key];\n      }\n    }\n\n    return target;\n  }\n\n  function _slicedToArray(arr, i) {\n    return _arrayWithHoles(arr) || _iterableToArrayLimit(arr, i) || _unsupportedIterableToArray(arr, i) || _nonIterableRest();\n  }\n\n  function _toConsumableArray(arr) {\n    return _arrayWithoutHoles(arr) || _iterableToArray(arr) || _unsupportedIterableToArray(arr) || _nonIterableSpread();\n  }\n\n  function _arrayWithoutHoles(arr) {\n    if (Array.isArray(arr)) return _arrayLikeToArray(arr);\n  }\n\n  function _arrayWithHoles(arr) {\n    if (Array.isArray(arr)) return arr;\n  }\n\n  function _iterableToArray(iter) {\n    if (typeof Symbol !== \"undefined\" && Symbol.iterator in Object(iter)) return Array.from(iter);\n  }\n\n  function _iterableToArrayLimit(arr, i) {\n    if (typeof Symbol === \"undefined\" || !(Symbol.iterator in Object(arr))) return;\n    var _arr = [];\n    var _n = true;\n    var _d = false;\n    var _e = undefined;\n\n    try {\n      for (var _i = arr[Symbol.iterator](), _s; !(_n = (_s = _i.next()).done); _n = true) {\n        _arr.push(_s.value);\n\n        if (i && _arr.length === i) break;\n      }\n    } catch (err) {\n      _d = true;\n      _e = err;\n    } finally {\n      try {\n        if (!_n && _i[\"return\"] != null) _i[\"return\"]();\n      } finally {\n        if (_d) throw _e;\n      }\n    }\n\n    return _arr;\n  }\n\n  function _unsupportedIterableToArray(o, minLen) {\n    if (!o) return;\n    if (typeof o === \"string\") return _arrayLikeToArray(o, minLen);\n    var n = Object.prototype.toString.call(o).slice(8, -1);\n    if (n === \"Object\" && o.constructor) n = o.constructor.name;\n    if (n === \"Map\" || n === \"Set\") return Array.from(o);\n    if (n === \"Arguments\" || /^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)) return _arrayLikeToArray(o, minLen);\n  }\n\n  function _arrayLikeToArray(arr, len) {\n    if (len == null || len > arr.length) len = arr.length;\n\n    for (var i = 0, arr2 = new Array(len); i < len; i++) arr2[i] = arr[i];\n\n    return arr2;\n  }\n\n  function _nonIterableSpread() {\n    throw new TypeError(\"Invalid attempt to spread non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.\");\n  }\n\n  function _nonIterableRest() {\n    throw new TypeError(\"Invalid attempt to destructure non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.\");\n  }\n\n  function createCommonjsModule(fn, basedir, module) {\n  \treturn module = {\n  \t\tpath: basedir,\n  \t\texports: {},\n  \t\trequire: function (path, base) {\n  \t\t\treturn commonjsRequire(path, (base === undefined || base === null) ? module.path : base);\n  \t\t}\n  \t}, fn(module, module.exports), module.exports;\n  }\n\n  function commonjsRequire () {\n  \tthrow new Error('Dynamic requires are not currently supported by @rollup/plugin-commonjs');\n  }\n\n  /**\n   * Copyright (c) 2013-present, Facebook, Inc.\n   *\n   * This source code is licensed under the MIT license found in the\n   * LICENSE file in the root directory of this source tree.\n   */\n\n  var ReactPropTypesSecret = 'SECRET_DO_NOT_PASS_THIS_OR_YOU_WILL_BE_FIRED';\n  var ReactPropTypesSecret_1 = ReactPropTypesSecret;\n\n  function emptyFunction() {}\n\n  function emptyFunctionWithReset() {}\n\n  emptyFunctionWithReset.resetWarningCache = emptyFunction;\n\n  var factoryWithThrowingShims = function () {\n    function shim(props, propName, componentName, location, propFullName, secret) {\n      if (secret === ReactPropTypesSecret_1) {\n        // It is still safe when called from React.\n        return;\n      }\n\n      var err = new Error('Calling PropTypes validators directly is not supported by the `prop-types` package. ' + 'Use PropTypes.checkPropTypes() to call them. ' + 'Read more at http://fb.me/use-check-prop-types');\n      err.name = 'Invariant Violation';\n      throw err;\n    }\n    shim.isRequired = shim;\n\n    function getShim() {\n      return shim;\n    }\n    // Keep this list in sync with production version in `./factoryWithTypeCheckers.js`.\n\n    var ReactPropTypes = {\n      array: shim,\n      bool: shim,\n      func: shim,\n      number: shim,\n      object: shim,\n      string: shim,\n      symbol: shim,\n      any: shim,\n      arrayOf: getShim,\n      element: shim,\n      elementType: shim,\n      instanceOf: getShim,\n      node: shim,\n      objectOf: getShim,\n      oneOf: getShim,\n      oneOfType: getShim,\n      shape: getShim,\n      exact: getShim,\n      checkPropTypes: emptyFunctionWithReset,\n      resetWarningCache: emptyFunction\n    };\n    ReactPropTypes.PropTypes = ReactPropTypes;\n    return ReactPropTypes;\n  };\n\n  var propTypes = createCommonjsModule(function (module) {\n  /**\n   * Copyright (c) 2013-present, Facebook, Inc.\n   *\n   * This source code is licensed under the MIT license found in the\n   * LICENSE file in the root directory of this source tree.\n   */\n  {\n    // By explicitly using `prop-types` you are opting into new production behavior.\n    // http://fb.me/prop-types-in-prod\n    module.exports = factoryWithThrowingShims();\n  }\n  });\n\n  var Props = {\n    loading: propTypes.oneOf(['lazy']),\n    lqip: propTypes.shape({\n      active: propTypes.bool,\n      quality: propTypes.number,\n      threshold: propTypes.number,\n      blur: propTypes.number,\n      raw: propTypes.string\n    }),\n    path: propTypes.string,\n    src: propTypes.string,\n    queryParameters: propTypes.objectOf(propTypes.oneOfType([propTypes.string, propTypes.number]).isRequired),\n    transformation: propTypes.arrayOf(propTypes.object.isRequired),\n    transformationPosition: propTypes.oneOf(['path', 'query'])\n  };\n\n  var Props$1 = {\n    fileName: propTypes.string,\n    tags: propTypes.arrayOf(propTypes.string.isRequired),\n    useUniqueFileName: propTypes.bool,\n    responseFields: propTypes.array,\n    isPrivateFile: propTypes.bool,\n    folder: propTypes.string,\n    customCoordinates: propTypes.string,\n    extensions: propTypes.arrayOf(propTypes.object.isRequired),\n    webhookUrl: propTypes.string,\n    overwriteFile: propTypes.bool,\n    overwriteAITags: propTypes.bool,\n    overwriteTags: propTypes.bool,\n    overwriteCustomMetadata: propTypes.bool,\n    customMetadata: propTypes.any,\n    onError: propTypes.func,\n    onSuccess: propTypes.func,\n    onUploadStart: propTypes.func,\n    onUploadProgress: propTypes.func,\n    validateFile: propTypes.func,\n    ref: propTypes.any\n  };\n\n  var Props$2 = {\n    publicKey: propTypes.string,\n    urlEndpoint: propTypes.string,\n    authenticator: propTypes.func\n  };\n  var IKContextCombinedProps = _objectSpread2$1(_objectSpread2$1(_objectSpread2$1(_objectSpread2$1(_objectSpread2$1({}, Props$2), Props), Props$1), Props$1), {}, {\n    ikClient: propTypes.instanceOf(ImageKit)\n  });\n\n  var ImageKitContext = /*#__PURE__*/React.createContext({});\n  /**\n   * Provides a container for ImageKit components. Any option set in IKContext will be passed to the children.\n   *\n   * @example\n   *<IKContext  publicKey=\"<public key>\" urlEndpoint=\"url link\">\n   *    <!-- other tags -->\n   *    <Image src={link}/>\n   *</IKContext>\n   */\n\n  var IKContext = function IKContext(props) {\n    var extractContextOptions = function extractContextOptions(mergedOptions) {\n      var result = {};\n      var propKeys = Object.keys(IKContextCombinedProps);\n\n      for (var i = 0; i < propKeys.length; i++) {\n        var key = propKeys[i];\n        var value = mergedOptions[key];\n\n        if (value) {\n          result[key] = value;\n        }\n      }\n\n      return result;\n    };\n\n    var mergedOptions = _objectSpread2$1({}, props);\n\n    var contextOptionsExtracted = extractContextOptions(mergedOptions);\n\n    if (contextOptionsExtracted.urlEndpoint && contextOptionsExtracted.urlEndpoint.trim() !== \"\") {\n      contextOptionsExtracted.ikClient = new ImageKit({\n        urlEndpoint: contextOptionsExtracted.urlEndpoint,\n        // @ts-ignore\n        sdkVersion: \"\"\n      });\n    }\n\n    return /*#__PURE__*/React__default['default'].createElement(ImageKitContext.Provider, {\n      value: contextOptionsExtracted\n    }, props.children);\n  };\n\n  var COMBINED_IMAGE_PROP_TYPES = _objectSpread2$1(_objectSpread2$1({}, Props$2), Props);\n\n  var fetchEffectiveConnection = function fetchEffectiveConnection() {\n    try {\n      return navigator.connection.effectiveType;\n    } catch (ex) {\n      return \"4g\";\n    }\n  };\n  var getSrc = function getSrc(_ref, ikClient, contextOptions) {\n    var urlEndpoint = _ref.urlEndpoint,\n        lqip = _ref.lqip,\n        src = _ref.src,\n        path = _ref.path,\n        transformation = _ref.transformation,\n        transformationPosition = _ref.transformationPosition,\n        queryParameters = _ref.queryParameters;\n    // @ts-ignore\n    var options = {\n      urlEndpoint: urlEndpoint || contextOptions.urlEndpoint,\n      src: src || contextOptions.src || undefined,\n      path: path || contextOptions.path || undefined,\n      transformation: transformation || contextOptions.transformation,\n      transformationPosition: transformationPosition || contextOptions.transformationPosition || undefined,\n      queryParameters: queryParameters || contextOptions.queryParameters || {}\n    };\n    var result = {\n      originalSrc: ikClient.url(options)\n    };\n\n    if (lqip && lqip.active) {\n      var quality = Math.round(lqip.quality || lqip.threshold || 20);\n      var blur = Math.round(lqip.blur || 6);\n      var newTransformation = options.transformation ? _toConsumableArray(options.transformation) : [];\n\n      if (lqip.raw && typeof lqip.raw === \"string\" && lqip.raw.trim() !== \"\") {\n        newTransformation.push({\n          raw: lqip.raw.trim()\n        });\n      } else {\n        newTransformation.push({\n          quality: String(quality),\n          blur: String(blur)\n        });\n      }\n\n      result.lqipSrc = ikClient.url(_objectSpread2$1(_objectSpread2$1({}, options), {}, {\n        transformation: newTransformation\n      }));\n    }\n\n    return result;\n  };\n  var getIKElementsUrl = function getIKElementsUrl(_ref2, _ref3) {\n    var _ref2$lqip = _ref2.lqip,\n        lqip = _ref2$lqip === void 0 ? null : _ref2$lqip,\n        loading = _ref2.loading;\n    var intersected = _ref3.intersected,\n        originalSrcLoaded = _ref3.originalSrcLoaded,\n        originalSrc = _ref3.originalSrc,\n        lqipSrc = _ref3.lqipSrc;\n\n    /*\n      No lazy loading no lqip\n        src=originalImage\n      No lazy loading lqip\n        src=lqip\n        src=originalImage (when loaded)\n      lazy loading and no lqip\n        src=''\n        onIntersect:\n        src=originalImage\n      lazy loading and lqip\n        src=lqip\n        onIntersect:\n        src=originalImage (when loaded)\n    */\n    var isLqipActive = function isLqipActive(lqip) {\n      return lqip && lqip.active;\n    };\n\n    if (loading !== \"lazy\" && !isLqipActive(lqip)) {\n      return originalSrc;\n    } else if (loading !== \"lazy\" && isLqipActive(lqip)) {\n      if (originalSrcLoaded) {\n        return originalSrc;\n      } else {\n        return lqipSrc;\n      }\n    } else if (loading === \"lazy\" && !isLqipActive(lqip)) {\n      if (intersected) {\n        return originalSrc;\n      } else {\n        return \"\";\n      }\n    } else {\n      //  if (loading === \"lazy\" && isLqipActive(lqip))\n      if (intersected && originalSrcLoaded) {\n        return originalSrc;\n      } else {\n        return lqipSrc;\n      }\n    }\n  };\n\n  var useImageKitComponent = function useImageKitComponent(props) {\n    var contextOptions = React.useContext(ImageKitContext);\n\n    var getIKClient = function getIKClient() {\n      if (contextOptions && contextOptions.ikClient) {\n        return contextOptions.ikClient;\n      }\n\n      var urlEndpoint = props.urlEndpoint;\n      urlEndpoint = urlEndpoint || contextOptions && contextOptions.urlEndpoint;\n\n      if (!urlEndpoint || urlEndpoint.trim() === \"\") {\n        throw new Error(\"Missing urlEndpoint during initialization\");\n      }\n\n      var ikClient = new ImageKit({\n        urlEndpoint: urlEndpoint,\n        // @ts-ignore\n        sdkVersion: \"\"\n      });\n      return ikClient;\n    };\n\n    return {\n      getIKClient: getIKClient\n    };\n  };\n\n  var IKImage = function IKImage(props) {\n    var imageRef = React.useRef(null);\n\n    var _useImageKitComponent = useImageKitComponent(_objectSpread2$1({}, props)),\n        getIKClient = _useImageKitComponent.getIKClient;\n\n    var contextOptions = React.useContext(ImageKitContext);\n\n    var _useState = React.useState(undefined),\n        _useState2 = _slicedToArray(_useState, 2),\n        currentUrl = _useState2[0],\n        setCurrentUrl = _useState2[1];\n\n    var _useState3 = React.useState(\"\"),\n        _useState4 = _slicedToArray(_useState3, 2),\n        originalSrc = _useState4[0],\n        setOriginalSrc = _useState4[1];\n\n    var _useState5 = React.useState(\"\"),\n        _useState6 = _slicedToArray(_useState5, 2),\n        lqipSrc = _useState6[0],\n        setLqipSrc = _useState6[1];\n\n    var _useState7 = React.useState(false),\n        _useState8 = _slicedToArray(_useState7, 2),\n        originalSrcLoaded = _useState8[0],\n        setOriginalSrcLoaded = _useState8[1];\n\n    var _useState9 = React.useState(undefined),\n        _useState10 = _slicedToArray(_useState9, 2),\n        observe = _useState10[0],\n        setObserve = _useState10[1];\n\n    var _useState11 = React.useState(false),\n        _useState12 = _slicedToArray(_useState11, 2),\n        initialized = _useState12[0],\n        setInitialized = _useState12[1];\n\n    var _useState13 = React.useState(false),\n        _useState14 = _slicedToArray(_useState13, 2),\n        intersected = _useState14[0],\n        setIntersected = _useState14[1];\n\n    React.useEffect(function () {\n      var _getSrc = getSrc(props, getIKClient(), contextOptions),\n          newOriginalSrc = _getSrc.originalSrc,\n          newLqipSrc = _getSrc.lqipSrc;\n\n      setOriginalSrc(newOriginalSrc);\n      setLqipSrc(newLqipSrc ? newLqipSrc : '');\n      setInitialized(true);\n    }, [contextOptions, props]);\n\n    var updateImageUrl = /*#__PURE__*/function () {\n      var _ref = _asyncToGenerator( /*#__PURE__*/regeneratorRuntime.mark(function _callee() {\n        var url;\n        return regeneratorRuntime.wrap(function _callee$(_context) {\n          while (1) {\n            switch (_context.prev = _context.next) {\n              case 0:\n                _context.next = 2;\n                return getIKElementsUrl(props, {\n                  originalSrc: originalSrc,\n                  lqipSrc: lqipSrc,\n                  intersected: intersected,\n                  contextOptions: contextOptions,\n                  initialzeState: initialized,\n                  originalSrcLoaded: originalSrcLoaded,\n                  observe: observe\n                });\n\n              case 2:\n                url = _context.sent;\n\n                // Include intersected state\n                if (url) {\n                  setCurrentUrl(url);\n                }\n\n              case 4:\n              case \"end\":\n                return _context.stop();\n            }\n          }\n        }, _callee);\n      }));\n\n      return function updateImageUrl() {\n        return _ref.apply(this, arguments);\n      };\n    }();\n\n    var triggerOriginalImageLoad = function triggerOriginalImageLoad() {\n      var img = new Image();\n\n      img.onload = function () {\n        setOriginalSrcLoaded(true);\n      };\n\n      img.src = originalSrc;\n    };\n\n    React.useEffect(function () {\n      if (originalSrcLoaded) updateImageUrl();\n    }, [originalSrcLoaded]);\n    React.useEffect(function () {\n      var image = imageRef.current;\n      var loading = props.loading;\n\n      if (initialized) {\n        if (window && 'IntersectionObserver' in window && loading === \"lazy\") {\n          var connectionType = fetchEffectiveConnection();\n          var rootMargin = \"1250px\";\n          if (connectionType !== \"4g\") rootMargin = \"2500px\";\n          var imageObserver = new IntersectionObserver(function (entries) {\n            var el = entries[0];\n\n            if (el && el.isIntersecting && !intersected) {\n              setIntersected(true);\n              setObserve(function (prevObserver) {\n                if (prevObserver) {\n                  prevObserver.disconnect();\n                }\n\n                return undefined;\n              });\n              triggerOriginalImageLoad();\n              updateImageUrl();\n            }\n          }, {\n            rootMargin: \"\".concat(rootMargin, \" 0px \").concat(rootMargin, \" 0px\")\n          });\n\n          if (image) {\n            imageObserver.observe(image);\n            setObserve(imageObserver);\n          }\n        } else {\n          setIntersected(true);\n          triggerOriginalImageLoad();\n          updateImageUrl();\n        }\n      }\n\n      return function () {\n        if (observe) {\n          observe.disconnect();\n        }\n      };\n    }, [props, originalSrc, lqipSrc]);\n\n    var urlEndpoint = props.urlEndpoint,\n        authenticator = props.authenticator,\n        publicKey = props.publicKey,\n        loading = props.loading,\n        lqip = props.lqip,\n        path = props.path,\n        src = props.src,\n        transformation = props.transformation,\n        transformationPosition = props.transformationPosition,\n        queryParameters = props.queryParameters,\n        restProps = _objectWithoutProperties(props, [\"urlEndpoint\", \"authenticator\", \"publicKey\", \"loading\", \"lqip\", \"path\", \"src\", \"transformation\", \"transformationPosition\", \"queryParameters\"]);\n\n    return /*#__PURE__*/React__default['default'].createElement(\"img\", _extends({\n      alt: props.alt || \"\",\n      src: currentUrl ? currentUrl : '',\n      ref: imageRef\n    }, restProps));\n  };\n\n  IKImage.propTypes = COMBINED_IMAGE_PROP_TYPES;\n\n  var Props$3 = {\n    path: propTypes.string,\n    src: propTypes.string,\n    queryParameters: propTypes.objectOf(propTypes.oneOfType([propTypes.string, propTypes.number]).isRequired),\n    transformation: propTypes.arrayOf(propTypes.object.isRequired),\n    transformationPosition: propTypes.oneOf(['path', 'query'])\n  };\n\n  var COMBINED_IMAGE_PROP_TYPES$1 = _objectSpread2$1(_objectSpread2$1({}, Props$2), Props$3);\n\n  var IKVideo = function IKVideo(props) {\n    var videoRef = React.useRef(null);\n\n    var _useState = React.useState({\n      currentUrl: '',\n      contextOptions: {}\n    }),\n        _useState2 = _slicedToArray(_useState, 2),\n        state = _useState2[0],\n        setState = _useState2[1];\n\n    var _useImageKitComponent = useImageKitComponent(_objectSpread2$1({}, props)),\n        getIKClient = _useImageKitComponent.getIKClient;\n\n    var contextItems = React.useContext(ImageKitContext);\n    React.useEffect(function () {\n      var _getSrc = getSrc(props, getIKClient(), contextItems),\n          originalSrc = _getSrc.originalSrc;\n\n      setState(function (prevState) {\n        return _objectSpread2$1(_objectSpread2$1({}, prevState), {}, {\n          currentUrl: originalSrc,\n          contextOptions: contextItems\n        });\n      });\n    }, [contextItems, props]);\n    var currentUrl = state.currentUrl;\n\n    var urlEndpoint = props.urlEndpoint,\n        publicKey = props.publicKey,\n        authenticator = props.authenticator,\n        path = props.path,\n        src = props.src,\n        transformation = props.transformation,\n        transformationPosition = props.transformationPosition,\n        queryParameters = props.queryParameters,\n        restProps = _objectWithoutProperties(props, [\"urlEndpoint\", \"publicKey\", \"authenticator\", \"path\", \"src\", \"transformation\", \"transformationPosition\", \"queryParameters\"]);\n\n    return /*#__PURE__*/React__default['default'].createElement(\"video\", _extends({}, restProps, {\n      ref: videoRef,\n      key: currentUrl\n    }), /*#__PURE__*/React__default['default'].createElement(\"source\", {\n      src: currentUrl,\n      type: \"video/mp4\"\n    }));\n  };\n\n  IKVideo.propTypes = COMBINED_IMAGE_PROP_TYPES$1;\n\n  var PROP_TYPES = _objectSpread2$1(_objectSpread2$1({}, Props$2), Props$1);\n\n  var IKUpload = /*#__PURE__*/React.forwardRef(function (props, ref) {\n    var _useState = React.useState({}),\n        _useState2 = _slicedToArray(_useState, 2),\n        state = _useState2[0],\n        setState = _useState2[1];\n\n    var contextOptions = React.useContext(ImageKitContext);\n\n    var _useImageKitComponent = useImageKitComponent(_objectSpread2$1({}, props)),\n        getIKClient = _useImageKitComponent.getIKClient;\n\n    var abort = function abort() {\n      if (state.xhr) {\n        state.xhr.abort();\n      }\n    };\n\n    if (ref && ref.current) {\n      ref.current = _objectSpread2$1(_objectSpread2$1({}, ref.current), {}, {\n        abort: abort\n      });\n    }\n\n    var publicKey = props.publicKey,\n        urlEndpoint = props.urlEndpoint,\n        authenticator = props.authenticator,\n        fileName = props.fileName,\n        useUniqueFileName = props.useUniqueFileName,\n        tags = props.tags,\n        folder = props.folder,\n        isPrivateFile = props.isPrivateFile,\n        customCoordinates = props.customCoordinates,\n        responseFields = props.responseFields,\n        onError = props.onError,\n        onSuccess = props.onSuccess,\n        onUploadStart = props.onUploadStart,\n        onUploadProgress = props.onUploadProgress,\n        validateFile = props.validateFile,\n        webhookUrl = props.webhookUrl,\n        overwriteFile = props.overwriteFile,\n        overwriteAITags = props.overwriteAITags,\n        overwriteTags = props.overwriteTags,\n        overwriteCustomMetadata = props.overwriteCustomMetadata,\n        extensions = props.extensions,\n        customMetadata = props.customMetadata,\n        restProps = _objectWithoutProperties(props, [\"publicKey\", \"urlEndpoint\", \"authenticator\", \"fileName\", \"useUniqueFileName\", \"tags\", \"folder\", \"isPrivateFile\", \"customCoordinates\", \"responseFields\", \"onError\", \"onSuccess\", \"onUploadStart\", \"onUploadProgress\", \"validateFile\", \"webhookUrl\", \"overwriteFile\", \"overwriteAITags\", \"overwriteTags\", \"overwriteCustomMetadata\", \"extensions\", \"customMetadata\"]);\n\n    var uploadFile = function uploadFile(e) {\n      var _e$target$files;\n\n      var publicKey = props.publicKey || contextOptions.publicKey;\n      var authenticator = props.authenticator || contextOptions.authenticator;\n      var urlEndpoint = props.urlEndpoint || contextOptions.urlEndpoint;\n\n      if (!publicKey || publicKey.trim() === \"\") {\n        if (onError && typeof onError === \"function\") {\n          onError({\n            message: \"Missing publicKey\"\n          });\n        }\n\n        return;\n      }\n\n      if (!authenticator) {\n        if (onError && typeof onError === \"function\") {\n          onError({\n            message: \"The authenticator function is not provided.\"\n          });\n        }\n\n        return;\n      }\n\n      if (typeof authenticator !== 'function') {\n        if (onError && typeof onError === \"function\") {\n          onError({\n            message: \"The provided authenticator is not a function.\"\n          });\n        }\n\n        return;\n      }\n\n      if (!urlEndpoint || urlEndpoint.trim() === \"\") {\n        if (onError && typeof onError === \"function\") {\n          onError({\n            message: \"Missing urlEndpoint\"\n          });\n        }\n\n        return;\n      }\n\n      var ikClient = getIKClient();\n      var file = (_e$target$files = e.target.files) === null || _e$target$files === void 0 ? void 0 : _e$target$files[0];\n\n      if (!file) {\n        return;\n      }\n\n      if (props.validateFile && !props.validateFile(file)) {\n        return;\n      }\n\n      if (props.onUploadStart && typeof props.onUploadStart === \"function\") {\n        props.onUploadStart(e);\n      }\n\n      var xhr = new XMLHttpRequest();\n\n      var progressCb = function progressCb(e) {\n        if (props.onUploadProgress && typeof props.onUploadProgress === 'function') {\n          props.onUploadProgress(e);\n        }\n      };\n\n      xhr.upload.addEventListener('progress', progressCb);\n      var params = {\n        file: file,\n        fileName: fileName || file.name,\n        useUniqueFileName: useUniqueFileName,\n        tags: tags,\n        folder: folder,\n        isPrivateFile: isPrivateFile,\n        customCoordinates: customCoordinates,\n        responseFields: responseFields,\n        extensions: extensions,\n        webhookUrl: webhookUrl,\n        overwriteFile: overwriteFile,\n        overwriteAITags: overwriteAITags,\n        overwriteTags: overwriteTags,\n        overwriteCustomMetadata: overwriteCustomMetadata,\n        customMetadata: customMetadata,\n        signature: '',\n        expire: 0,\n        token: '',\n        xhr: xhr\n      };\n      var authPromise = authenticator();\n\n      if (!(authPromise instanceof Promise)) {\n        if (onError && typeof onError === \"function\") {\n          onError({\n            message: \"The authenticator function is expected to return a Promise instance.\"\n          });\n        }\n\n        return;\n      }\n\n      authPromise.then(function (_ref) {\n        var signature = _ref.signature,\n            token = _ref.token,\n            expire = _ref.expire;\n        params['signature'] = signature;\n        params['expire'] = expire;\n        params['token'] = token;\n        ikClient.upload(params, function (err, result) {\n          if (err) {\n            if (onError && typeof onError === \"function\") {\n              console.log(err);\n              onError(err);\n            }\n          } else {\n            if (onSuccess && typeof onSuccess === \"function\") {\n              onSuccess(result);\n            }\n          }\n\n          xhr.upload.removeEventListener('progress', progressCb);\n        }, {\n          publicKey: publicKey\n        });\n        setState({\n          xhr: xhr\n        });\n      })[\"catch\"](function (data) {\n        var error;\n\n        if (data instanceof Array) {\n          error = data[0];\n        } else {\n          error = data;\n        }\n\n        if (onError && typeof onError === \"function\") {\n          onError({\n            message: String(error)\n          });\n        }\n\n        return;\n      });\n    };\n\n    return /*#__PURE__*/React__default['default'].createElement(\"input\", _extends({}, restProps, {\n      ref: ref,\n      type: \"file\",\n      onChange: function onChange(e) {\n        if (props.onChange && typeof props.onChange === \"function\") {\n          props.onChange(e);\n        }\n\n        uploadFile(e);\n      }\n    }));\n  });\n  IKUpload.propTypes = _objectSpread2$1({}, PROP_TYPES);\n\n  exports.IKContext = IKContext;\n  exports.IKCore = ImageKit;\n  exports.IKImage = IKImage;\n  exports.IKUpload = IKUpload;\n  exports.IKVideo = IKVideo;\n\n  Object.defineProperty(exports, '__esModule', { value: true });\n\n})));\n"],"mappings":"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"},"metadata":{},"sourceType":"script","externalDependencies":[]}